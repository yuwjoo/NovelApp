"use strict";(self["webpackChunknovel_web"]=self["webpackChunknovel_web"]||[]).push([[357],{240:function(e,t,o){o.d(t,{B0:function(){return u},C7:function(){return p},gJ:function(){return b},wo:function(){return d}});var l=o(6591),n=o(8442);function a(e,t){"scrollTop"in e?e.scrollTop=t:e.scrollTo(e.scrollX,t)}function i(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}function r(e){a(window,e),a(document.body,e)}const s=(0,n.un)();function u(){s&&r(i())}const c=e=>e.stopPropagation();function d(e,t){("boolean"!==typeof e.cancelable||e.cancelable)&&e.preventDefault(),t&&c(e)}const{width:v,height:p}=(0,l.lW)();function m(e){const t=window.getComputedStyle(e);return"none"!==t.transform||"none"!==t.perspective||["transform","perspective","filter"].some((e=>(t.willChange||"").includes(e)))}function b(e){let t=e.parentElement;while(t){if(t&&"HTML"!==t.tagName&&"BODY"!==t.tagName&&m(t))return t;t=t.parentElement}return null}},269:function(){},357:function(e,t,o){o.r(t),o.d(t,{default:function(){return Ee}});var l=o(6431),n=o(4726),a=(o(8111),o(7588),o(1701),o(3579),o(6768)),i=o(144),r=o(5828),s=o(6370),u=o(8442),c=o(240);const d="van-hairline",v=`${d}--surround`,p="van-haptics-feedback",m=(Symbol("van-form"),500),b=5;let f=0;function h(){const e=(0,a.nI)(),{name:t="unknown"}=(null==e?void 0:e.type)||{};return`${t}-${++f}`}function g(e){const t=(0,a.nI)();t&&(0,u.X$)(t.proxy,e)}var y=o(6591);const[k,w]=(0,r.YX)("dropdown-menu"),x={overlay:s.Rd,zIndex:s.VQ,duration:(0,s.TU)(.2),direction:(0,s.Ts)("down"),activeColor:String,autoLocate:Boolean,closeOnClickOutside:s.Rd,closeOnClickOverlay:s.Rd,swipeThreshold:s.VQ},C=Symbol(k);var I=(0,a.pM)({name:k,props:x,setup(e,{slots:t}){const o=h(),l=(0,i.KR)(),n=(0,i.KR)(),r=(0,i.KR)(0),{children:s,linkChildren:d}=(0,y.Py)(C),v=(0,y.f$)(l),m=(0,a.EW)((()=>s.some((e=>e.state.showWrapper)))),b=(0,a.EW)((()=>e.swipeThreshold&&s.length>+e.swipeThreshold)),f=(0,a.EW)((()=>{if(m.value&&(0,u.C8)(e.zIndex))return{zIndex:+e.zIndex+1}})),k=()=>{s.forEach((e=>{e.toggle(!1)}))},x=()=>{e.closeOnClickOutside&&k()},I=()=>{if(n.value){const t=(0,y.yD)(n);"down"===e.direction?r.value=t.bottom:r.value=c.C7.value-t.top}},F=()=>{m.value&&I()},R=e=>{s.forEach(((t,o)=>{o===e?t.toggle():t.state.showPopup&&t.toggle(!1,{immediate:!0})}))},S=(t,l)=>{const{showPopup:n}=t.state,{disabled:i,titleClass:r}=t;return(0,a.bF)("div",{id:`${o}-${l}`,role:"button",tabindex:i?void 0:0,"data-allow-mismatch":"attribute",class:[w("item",{disabled:i,grow:b.value}),{[p]:!i}],onClick:()=>{i||R(l)}},[(0,a.bF)("span",{class:[w("title",{down:n===("down"===e.direction),active:n}),r],style:{color:n?e.activeColor:""}},[(0,a.bF)("div",{class:"van-ellipsis"},[t.renderTitle()])])])};return g({close:k}),d({id:o,props:e,offset:r,updateOffset:I}),(0,y.W3)(l,x),(0,y.ML)("scroll",F,{target:v,passive:!0}),()=>{var e;return(0,a.bF)("div",{ref:l,class:w()},[(0,a.bF)("div",{ref:n,style:f.value,class:w("bar",{opened:m.value,scrollable:b.value})},[s.map(S)]),null==(e=t.default)?void 0:e.call(t)])}}});const F=(0,n.G)(I);o(6647);var R=o(4548),S=o(5632),z=o(2094);const[_,V]=(0,r.YX)("button"),B=(0,u.X$)({},R.aI,{tag:(0,s.Ts)("button"),text:String,icon:String,type:(0,s.Ts)("default"),size:(0,s.Ts)("normal"),color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:(0,s.Ts)("button"),loadingSize:s.VQ,loadingText:String,loadingType:String,iconPosition:(0,s.Ts)("left")});var T=(0,a.pM)({name:_,props:B,emits:["click"],setup(e,{emit:t,slots:o}){const l=(0,R.lq)(),n=()=>o.loading?o.loading():(0,a.bF)(z.Rh,{size:e.loadingSize,type:e.loadingType,class:V("loading")},null),i=()=>e.loading?n():o.icon?(0,a.bF)("div",{class:V("icon")},[o.icon()]):e.icon?(0,a.bF)(S.In,{name:e.icon,class:V("icon"),classPrefix:e.iconPrefix},null):void 0,r=()=>{let t;if(t=e.loading?e.loadingText:o.default?o.default():e.text,t)return(0,a.bF)("span",{class:V("text")},[t])},s=()=>{const{color:t,plain:o}=e;if(t){const e={color:o?t:"white"};return o||(e.background=t),t.includes("gradient")?e.border=0:e.borderColor=t,e}},u=o=>{e.loading?(0,c.wo)(o):e.disabled||(t("click",o),l())};return()=>{const{tag:t,type:o,size:l,block:n,round:c,plain:d,square:p,loading:m,disabled:b,hairline:f,nativeType:h,iconPosition:g}=e,y=[V([o,l,{plain:d,block:n,round:c,square:p,loading:m,disabled:b,hairline:f}]),{[v]:f}];return(0,a.bF)(t,{type:h,class:y,style:s(),disabled:b,onClick:u},{default:()=>[(0,a.bF)("div",{class:V("content")},["left"===g&&i(),r(),"right"===g&&i()])]})}}});const O=(0,n.G)(T);o(7708),o(7484),o(7265);const[E,P]=(0,r.YX)("cell"),L={tag:(0,s.Ts)("div"),icon:String,size:String,title:s.VQ,value:s.VQ,label:s.VQ,center:Boolean,isLink:Boolean,border:s.Rd,iconPrefix:String,valueClass:s.E9,labelClass:s.E9,titleClass:s.E9,titleStyle:null,arrowDirection:String,required:{type:[Boolean,String],default:null},clickable:{type:Boolean,default:null}},K=(0,u.X$)({},L,R.aI);var M=(0,a.pM)({name:E,props:K,setup(e,{slots:t}){const o=(0,R.lq)(),l=()=>{const o=t.label||(0,u.C8)(e.label);if(o)return(0,a.bF)("div",{class:[P("label"),e.labelClass]},[t.label?t.label():e.label])},n=()=>{var o;if(t.title||(0,u.C8)(e.title)){const n=null==(o=t.title)?void 0:o.call(t);if(Array.isArray(n)&&0===n.length)return;return(0,a.bF)("div",{class:[P("title"),e.titleClass],style:e.titleStyle},[n||(0,a.bF)("span",null,[e.title]),l()])}},i=()=>{const o=t.value||t.default,l=o||(0,u.C8)(e.value);if(l)return(0,a.bF)("div",{class:[P("value"),e.valueClass]},[o?o():(0,a.bF)("span",null,[e.value])])},r=()=>t.icon?t.icon():e.icon?(0,a.bF)(S.In,{name:e.icon,class:P("left-icon"),classPrefix:e.iconPrefix},null):void 0,s=()=>{if(t["right-icon"])return t["right-icon"]();if(e.isLink){const t=e.arrowDirection&&"right"!==e.arrowDirection?`arrow-${e.arrowDirection}`:"arrow";return(0,a.bF)(S.In,{name:t,class:P("right-icon")},null)}};return()=>{var l;const{tag:u,size:c,center:d,border:v,isLink:p,required:m}=e,b=null!=(l=e.clickable)?l:p,f={center:d,required:!!m,clickable:b,borderless:!v};return c&&(f[c]=!!c),(0,a.bF)(u,{class:P(f),role:b?"button":void 0,tabindex:b?0:void 0,onClick:o},{default:()=>{var e;return[r(),n(),i(),s(),null==(e=t.extra)?void 0:e.call(t)]}})}}});const X=(0,n.G)(M);var $=o(5130),A=o(7905);function W(e,{args:t=[],done:o,canceled:l,error:n}){if(e){const a=e.apply(null,t);(0,u.yL)(a)?a.then((e=>{e?o():l&&l()})).catch(n||u.lQ):a?o():l&&l()}else o()}const[Y,Q]=(0,r.YX)("stepper"),D=200,G=(e,t)=>String(e)===String(t),q={min:(0,s.TU)(1),max:(0,s.TU)(1/0),name:(0,s.TU)(""),step:(0,s.TU)(1),theme:String,integer:Boolean,disabled:Boolean,showPlus:s.Rd,showMinus:s.Rd,showInput:s.Rd,longPress:s.Rd,autoFixed:s.Rd,allowEmpty:Boolean,modelValue:s.VQ,inputWidth:s.VQ,buttonSize:s.VQ,placeholder:String,disablePlus:Boolean,disableMinus:Boolean,disableInput:Boolean,beforeChange:Function,defaultValue:(0,s.TU)(1),decimalLength:s.VQ};var U=(0,a.pM)({name:Y,props:q,emits:["plus","blur","minus","focus","change","overlimit","update:modelValue"],setup(e,{emit:t}){const o=(t,o=!0)=>{const{min:l,max:n,allowEmpty:a,decimalLength:i}=e;return a&&""===t||(t=(0,A.ZV)(String(t),!e.integer),t=""===t?0:+t,t=Number.isNaN(t)?+l:t,t=o?Math.max(Math.min(+n,t),+l):t,(0,u.C8)(i)&&(t=t.toFixed(+i))),t},l=()=>{var l;const n=null!=(l=e.modelValue)?l:e.defaultValue,a=o(n);return G(a,e.modelValue)||t("update:modelValue",a),a};let n;const r=(0,i.KR)(),s=(0,i.KR)(l()),d=(0,a.EW)((()=>e.disabled||e.disableMinus||+s.value<=+e.min)),v=(0,a.EW)((()=>e.disabled||e.disablePlus||+s.value>=+e.max)),b=(0,a.EW)((()=>({width:(0,A._V)(e.inputWidth),height:(0,A._V)(e.buttonSize)}))),f=(0,a.EW)((()=>(0,A.vE)(e.buttonSize))),h=()=>{const e=o(s.value);G(e,s.value)||(s.value=e)},g=t=>{e.beforeChange?W(e.beforeChange,{args:[t],done(){s.value=t}}):s.value=t},k=()=>{if("plus"===n&&v.value||"minus"===n&&d.value)return void t("overlimit",n);const l="minus"===n?-e.step:+e.step,a=o((0,A.LF)(+s.value,l));g(a),t(n)},w=t=>{const o=t.target,{value:l}=o,{decimalLength:n}=e;let a=(0,A.ZV)(String(l),!e.integer);if((0,u.C8)(n)&&a.includes(".")){const e=a.split(".");a=`${e[0]}.${e[1].slice(0,+n)}`}e.beforeChange?o.value=String(s.value):G(l,a)||(o.value=a);const i=a===String(+a);g(i?+a:a)},x=o=>{var l;e.disableInput?null==(l=r.value)||l.blur():t("focus",o)},C=l=>{const n=l.target,i=o(n.value,e.autoFixed);n.value=String(i),s.value=i,(0,a.dY)((()=>{t("blur",l),(0,c.B0)()}))};let I,F;const R=()=>{F=setTimeout((()=>{k(),R()}),D)},S=()=>{e.longPress&&(I=!1,clearTimeout(F),F=setTimeout((()=>{I=!0,k(),R()}),m))},z=t=>{e.longPress&&(clearTimeout(F),I&&(0,c.wo)(t))},_=t=>{e.disableInput&&(0,c.wo)(t)},V=e=>({onClick:t=>{(0,c.wo)(t),n=e,k()},onTouchstartPassive:()=>{n=e,S()},onTouchend:z,onTouchcancel:z});return(0,a.wB)((()=>[e.max,e.min,e.integer,e.decimalLength]),h),(0,a.wB)((()=>e.modelValue),(e=>{G(e,s.value)||(s.value=o(e))})),(0,a.wB)(s,(o=>{t("update:modelValue",o),t("change",o,{name:e.name})})),(0,y.Gp)((()=>e.modelValue)),()=>(0,a.bF)("div",{role:"group",class:Q([e.theme])},[(0,a.bo)((0,a.bF)("button",(0,a.v6)({type:"button",style:f.value,class:[Q("minus",{disabled:d.value}),{[p]:!d.value}],"aria-disabled":d.value||void 0},V("minus")),null),[[$.aG,e.showMinus]]),(0,a.bo)((0,a.bF)("input",{ref:r,type:e.integer?"tel":"text",role:"spinbutton",class:Q("input"),value:s.value,style:b.value,disabled:e.disabled,readonly:e.disableInput,inputmode:e.integer?"numeric":"decimal",placeholder:e.placeholder,autocomplete:"off","aria-valuemax":e.max,"aria-valuemin":e.min,"aria-valuenow":s.value,onBlur:C,onInput:w,onFocus:x,onMousedown:_},null),[[$.aG,e.showInput]]),(0,a.bo)((0,a.bF)("button",(0,a.v6)({type:"button",style:f.value,class:[Q("plus",{disabled:v.value}),{[p]:!v.value}],"aria-disabled":v.value||void 0},V("plus")),null),[[$.aG,e.showPlus]])])}});const N=(0,n.G)(U);o(116);const j={show:Boolean,zIndex:s.VQ,overlay:s.Rd,duration:s.VQ,teleport:[String,Object],lockScroll:s.Rd,lazyRender:s.Rd,beforeClose:Function,overlayStyle:Object,overlayClass:s.E9,transitionAppear:Boolean,closeOnClickOverlay:s.Rd};Object.keys(j);function H(e,t){return e>t?"horizontal":t>e?"vertical":""}function J(){const e=(0,i.KR)(0),t=(0,i.KR)(0),o=(0,i.KR)(0),l=(0,i.KR)(0),n=(0,i.KR)(0),a=(0,i.KR)(0),r=(0,i.KR)(""),s=(0,i.KR)(!0),u=()=>"vertical"===r.value,c=()=>"horizontal"===r.value,d=()=>{o.value=0,l.value=0,n.value=0,a.value=0,r.value="",s.value=!0},v=o=>{d(),e.value=o.touches[0].clientX,t.value=o.touches[0].clientY},p=i=>{const u=i.touches[0];o.value=(u.clientX<0?0:u.clientX)-e.value,l.value=u.clientY-t.value,n.value=Math.abs(o.value),a.value=Math.abs(l.value);const c=10;(!r.value||n.value<c&&a.value<c)&&(r.value=H(n.value,a.value)),s.value&&(n.value>b||a.value>b)&&(s.value=!1)};return{move:p,start:v,reset:d,startX:e,startY:t,deltaX:o,deltaY:l,offsetX:n,offsetY:a,direction:r,isVertical:u,isHorizontal:c,isTap:s}}let Z=0;const ee="van-overflow-hidden";function te(e,t){const o=J(),l="01",n="10",i=t=>{o.move(t);const a=o.deltaY.value>0?n:l,i=(0,y.mH)(t.target,e.value),{scrollHeight:r,offsetHeight:s,scrollTop:u}=i;let d="11";0===u?d=s>=r?"00":"01":u+s>=r&&(d="10"),"11"===d||!o.isVertical()||parseInt(d,2)&parseInt(a,2)||(0,c.wo)(t,!0)},r=()=>{document.addEventListener("touchstart",o.start),document.addEventListener("touchmove",i,{passive:!1}),Z||document.body.classList.add(ee),Z++},s=()=>{Z&&(document.removeEventListener("touchstart",o.start),document.removeEventListener("touchmove",i),Z--,Z||document.body.classList.remove(ee))},u=()=>t()&&r(),d=()=>t()&&s();(0,y.kz)(u),(0,a.Y4)(d),(0,a.xo)(d),(0,a.wB)(t,(e=>{e?r():s()}))}var oe=o(968);const le=Symbol();var ne=o(6438);const ae=()=>{var e;const{scopeId:t}=(null==(e=(0,a.nI)())?void 0:e.vnode)||{};return t?{[t]:""}:null};var ie=o(989);const re=(0,u.X$)({},j,{round:Boolean,position:(0,s.Ts)("center"),closeIcon:(0,s.Ts)("cross"),closeable:Boolean,transition:String,iconPrefix:String,closeOnPopstate:Boolean,closeIconPosition:(0,s.Ts)("top-right"),destroyOnClose:Boolean,safeAreaInsetTop:Boolean,safeAreaInsetBottom:Boolean}),[se,ue]=(0,r.YX)("popup");var ce=(0,a.pM)({name:se,inheritAttrs:!1,props:re,emits:["open","close","opened","closed","keydown","update:show","clickOverlay","clickCloseIcon"],setup(e,{emit:t,attrs:o,slots:l}){let n,r;const s=(0,i.KR)(),c=(0,i.KR)(),d=(0,oe.a)((()=>e.show||!e.lazyRender)),v=(0,a.EW)((()=>{const t={zIndex:s.value};if((0,u.C8)(e.duration)){const o="center"===e.position?"animationDuration":"transitionDuration";t[o]=`${e.duration}s`}return t})),m=()=>{n||(n=!0,s.value=void 0!==e.zIndex?+e.zIndex:(0,ne.v)(),t("open"))},b=()=>{n&&W(e.beforeClose,{done(){n=!1,t("close"),t("update:show",!1)}})},f=o=>{t("clickOverlay",o),e.closeOnClickOverlay&&b()},h=()=>{if(e.overlay)return(0,a.bF)(ie.hJ,(0,a.v6)({show:e.show,class:e.overlayClass,zIndex:s.value,duration:e.duration,customStyle:e.overlayStyle,role:e.closeOnClickOverlay?"button":void 0,tabindex:e.closeOnClickOverlay?0:void 0},ae(),{onClick:f}),{default:l["overlay-content"]})},k=e=>{t("clickCloseIcon",e),b()},w=()=>{if(e.closeable)return(0,a.bF)(S.In,{role:"button",tabindex:0,name:e.closeIcon,class:[ue("close-icon",e.closeIconPosition),p],classPrefix:e.iconPrefix,onClick:k},null)};let x;const C=()=>{x&&clearTimeout(x),x=setTimeout((()=>{t("opened")}))},I=()=>t("closed"),F=e=>t("keydown",e),R=d((()=>{var t;const{destroyOnClose:n,round:i,position:r,safeAreaInsetTop:s,safeAreaInsetBottom:u,show:d}=e;if(d||!n)return(0,a.bo)((0,a.bF)("div",(0,a.v6)({ref:c,style:v.value,role:"dialog",tabindex:0,class:[ue({round:i,[r]:r}),{"van-safe-area-top":s,"van-safe-area-bottom":u}],onKeydown:F},o,ae()),[null==(t=l.default)?void 0:t.call(l),w()]),[[$.aG,d]])})),z=()=>{const{position:t,transition:o,transitionAppear:l}=e,n="center"===t?"van-fade":`van-popup-slide-${t}`;return(0,a.bF)($.eB,{name:o||n,appear:l,onAfterEnter:C,onAfterLeave:I},{default:R})};return(0,a.wB)((()=>e.show),(e=>{e&&!n&&(m(),0===o.tabindex&&(0,a.dY)((()=>{var e;null==(e=c.value)||e.focus()}))),!e&&n&&(n=!1,t("close"))})),g({popupRef:c}),te(c,(()=>e.show&&e.lockScroll)),(0,y.ML)("popstate",(()=>{e.closeOnPopstate&&(b(),r=!1)})),(0,a.sV)((()=>{e.show&&m()})),(0,a.n)((()=>{r&&(t("update:show",!0),r=!1)})),(0,a.Y4)((()=>{e.show&&e.teleport&&(b(),r=!0)})),(0,a.Gt)(le,(()=>e.show)),()=>e.teleport?(0,a.bF)(a.Im,{to:e.teleport},{default:()=>[h(),z()]}):(0,a.bF)(a.FK,null,[h(),z()])}});const de=(0,n.G)(ce);const[ve,pe]=(0,r.YX)("dropdown-item"),me={title:String,options:(0,s.zj)(),disabled:Boolean,teleport:[String,Object],lazyRender:s.Rd,modelValue:s.E9,titleClass:s.E9};var be=(0,a.pM)({name:ve,inheritAttrs:!1,props:me,emits:["open","opened","close","closed","change","update:modelValue"],setup(e,{emit:t,slots:o,attrs:l}){const n=(0,i.Kh)({showPopup:!1,transition:!0,showWrapper:!1}),r=(0,i.KR)(),{parent:s,index:u}=(0,y.cJ)(C);if(!s)return void 0;const d=e=>()=>t(e),v=d("open"),p=d("close"),m=d("opened"),b=()=>{n.showWrapper=!1,t("closed")},f=t=>{e.teleport&&t.stopPropagation()},h=(e=!n.showPopup,t={})=>{e!==n.showPopup&&(n.showPopup=e,n.transition=!t.immediate,e&&(s.updateOffset(),n.showWrapper=!0))},k=()=>{if(o.title)return o.title();if(e.title)return e.title;const t=e.options.find((t=>t.value===e.modelValue));return t?t.text:""},w=o=>{const{activeColor:l}=s.props,{disabled:i}=o,r=o.value===e.modelValue,u=()=>{i||(n.showPopup=!1,o.value!==e.modelValue&&(t("update:modelValue",o.value),t("change",o.value)))},c=()=>{if(r)return(0,a.bF)(S.In,{class:pe("icon"),color:i?void 0:l,name:"success"},null)};return(0,a.bF)(X,{role:"menuitem",key:String(o.value),icon:o.icon,title:o.text,class:pe("option",{active:r,disabled:i}),style:{color:r?l:""},tabindex:r?0:-1,clickable:!i,onClick:u},{value:c})},x=()=>{const{offset:t}=s,{autoLocate:i,zIndex:d,overlay:h,duration:g,direction:k,closeOnClickOverlay:x}=s.props,C=(0,A.AO)(d);let I=t.value;if(i&&r.value){const e=(0,c.gJ)(r.value);e&&(I-=(0,y.yD)(e).top)}return"down"===k?C.top=`${I}px`:C.bottom=`${I}px`,(0,a.bo)((0,a.bF)("div",(0,a.v6)({ref:r,style:C,class:pe([k]),onClick:f},l),[(0,a.bF)(de,{show:n.showPopup,"onUpdate:show":e=>n.showPopup=e,role:"menu",class:pe("content"),overlay:h,position:"down"===k?"top":"bottom",duration:n.transition?g:0,lazyRender:e.lazyRender,overlayStyle:{position:"absolute"},"aria-labelledby":`${s.id}-${u.value}`,"data-allow-mismatch":"attribute",closeOnClickOverlay:x,onOpen:v,onClose:p,onOpened:m,onClosed:b},{default:()=>{var t;return[e.options.map(w),null==(t=o.default)?void 0:t.call(o)]}})]),[[$.aG,n.showWrapper]])};return g({state:n,toggle:h,renderTitle:k}),()=>e.teleport?(0,a.bF)(a.Im,{to:e.teleport},{default:()=>[x()]}):x()}});const fe=(0,n.G)(be);o(269),o(4114);var he=o(4232);const ge={key:0,class:"book-item-page-divider"},ye={class:"book-item__title"},ke={class:"book-item__info"},we={class:"book-item__author"},xe={class:"book-item__update-date"},Ce={class:"book-item__describe"};function Ie(e,t,o,l,n,i){return(0,a.uX)(),(0,a.CE)("div",{class:(0,he.C4)(["book-item",{"book-item--page-first":0===o.source.bookInfo.page.index}]),onClick:t[0]||(t[0]=e=>i.handleClickItem(o.source))},[0===o.source.bookInfo.page.index?((0,a.uX)(),(0,a.CE)("div",ge," 第"+(0,he.v_)(o.source.bookInfo.page.current)+"/"+(0,he.v_)(o.source.bookInfo.page.total/o.source.bookInfo.page.size)+"页 ",1)):(0,a.Q3)("",!0),(0,a.Lk)("div",ye,(0,he.v_)(o.source.bookInfo.title),1),(0,a.Lk)("div",ke,[(0,a.Lk)("div",we,"作者："+(0,he.v_)(o.source.bookInfo.author),1),(0,a.Lk)("div",xe,"最近更新："+(0,he.v_)(o.source.bookInfo.updateDate),1)]),(0,a.Lk)("div",Ce,(0,he.v_)(o.source.bookInfo.describe),1)],2)}var Fe={name:"bookItem",props:{index:{type:Number},source:{type:Object,default(){return{}}}},methods:{handleClickItem(e){this.$router.push({name:"bookDetail",query:{id:e.id}})}}},Re=o(1241);const Se=(0,Re.A)(Fe,[["render",Ie],["__scopeId","data-v-581f2990"]]);var ze=Se,_e=o(3625);const Ve={class:"book-city"},Be={class:"dropdown-menu__item-btn"};var Te=(0,a.pM)({name:"bookCity",__name:"index",setup(e){const t=(0,i.KR)([]),o=(0,i.Kh)({current:1,size:0,total:0}),n=(0,i.KR)(!1),r=(0,i.KR)(!1),s=(0,i.Kh)({classify:"0",current:1}),u=(0,a.EW)((()=>o.total/o.size)),c=(0,i.KR)(1),d=(0,a.rk)("searchDropdownItemRef"),v=(0,i.KR)([]),p=async()=>{const e=await(0,_e.Mz)();v.value=e.map((e=>({text:e.title,value:e.id})))},m=async()=>{try{n.value=!0;const e=await(0,_e.kq)({current:o.current,classify:s.classify});o.current=e.current,o.total=e.total,o.size=e.size,t.value.push(...e.data.map(((e,t)=>({id:e.id,bookInfo:{...e.bookInfo,page:{...o,index:t}}}))))}finally{n.value=!1}},b=()=>{!n.value&&o.current+1<=u.value&&(o.current++,m())},f=e=>{t.value[e]&&(c.value=t.value[e].bookInfo.page.current)},h=()=>{s.current=c.value},g=()=>{d.value.toggle(),t.value=[],o.current=s.current,m()},y=()=>{t.value=[],o.current=1,m()};return p(),m(),(e,p)=>{const m=fe,k=N,w=X,x=O,C=F,I=l.A;return(0,a.uX)(),(0,a.CE)("div",Ve,[(0,a.bF)(C,{class:"book-city__dropdown dropdown-menu"},{default:(0,a.k6)((()=>[(0,a.bF)(m,{modelValue:(0,i.R1)(s).classify,"onUpdate:modelValue":p[0]||(p[0]=e=>(0,i.R1)(s).classify=e),options:(0,i.R1)(v),onChange:y},null,8,["modelValue","options"]),(0,a.bF)(m,{title:`第${(0,i.R1)(c)}页`,ref_key:"searchDropdownItemRef",ref:d,onOpen:h},{default:(0,a.k6)((()=>[(0,a.bF)(w,{center:"",title:"当前页"},{"right-icon":(0,a.k6)((()=>[(0,a.bF)(k,{modelValue:(0,i.R1)(s).current,"onUpdate:modelValue":p[1]||(p[1]=e=>(0,i.R1)(s).current=e),theme:"round",integer:"",min:"1",max:(0,i.R1)(o).total,"button-size":"22"},null,8,["modelValue","max"])])),_:1}),(0,a.bF)(w,{center:"",title:"总页数",value:(0,i.R1)(u)},null,8,["value"]),(0,a.Lk)("div",Be,[(0,a.bF)(x,{type:"primary",block:"",round:"",onClick:g},{default:(0,a.k6)((()=>p[2]||(p[2]=[(0,a.eW)(" 跳转 ")]))),_:1})])])),_:1},8,["title"])])),_:1}),(0,a.bF)(I,{class:"book-city__list",list:(0,i.R1)(t),"min-item-size":200,buffer:500,loading:(0,i.R1)(n),"on-more":(0,i.R1)(r),onScrollBottom:b,onCurrentItemIndex:f},{default:(0,a.k6)((({item:e,index:t})=>[(0,a.bF)(ze,{source:e,index:t},null,8,["source","index"])])),_:1},8,["list","loading","on-more"])])}}});const Oe=(0,Re.A)(Te,[["__scopeId","data-v-dc22cd3e"]]);var Ee=Oe},968:function(e,t,o){o.d(t,{a:function(){return a}});var l=o(144),n=o(6768);function a(e){const t=(0,l.KR)(!1);return(0,n.wB)(e,(e=>{e&&(t.value=e)}),{immediate:!0}),e=>()=>t.value?e():null}},989:function(e,t,o){o.d(t,{hJ:function(){return g}});var l=o(4726),n=o(6768),a=o(144),i=o(5130),r=o(5828),s=o(6370),u=o(240),c=o(8442),d=o(7905),v=o(6591),p=o(968);const[m,b]=(0,r.YX)("overlay"),f={show:Boolean,zIndex:s.VQ,duration:s.VQ,className:s.E9,lockScroll:s.Rd,lazyRender:s.Rd,customStyle:Object,teleport:[String,Object]};var h=(0,n.pM)({name:m,inheritAttrs:!1,props:f,setup(e,{attrs:t,slots:o}){const l=(0,a.KR)(),r=(0,p.a)((()=>e.show||!e.lazyRender)),s=t=>{e.lockScroll&&(0,u.wo)(t,!0)},m=r((()=>{var a;const r=(0,c.X$)((0,d.AO)(e.zIndex),e.customStyle);return(0,c.C8)(e.duration)&&(r.animationDuration=`${e.duration}s`),(0,n.bo)((0,n.bF)("div",(0,n.v6)({ref:l,style:r,class:[b(),e.className]},t),[null==(a=o.default)?void 0:a.call(o)]),[[i.aG,e.show]])}));return(0,v.ML)("touchmove",s,{target:l}),()=>{const t=(0,n.bF)(i.eB,{name:"van-fade",appear:!0},{default:m});return e.teleport?(0,n.bF)(n.Im,{to:e.teleport},{default:()=>[t]}):t}}});const g=(0,l.G)(h)},2094:function(e,t,o){o.d(t,{Rh:function(){return b}});var l=o(4726),n=(o(8111),o(1701),o(6768)),a=o(5828),i=o(6370),r=o(8442),s=o(7905);const[u,c]=(0,a.YX)("loading"),d=Array(12).fill(null).map(((e,t)=>(0,n.bF)("i",{class:c("line",String(t+1))},null))),v=(0,n.bF)("svg",{class:c("circular"),viewBox:"25 25 50 50"},[(0,n.bF)("circle",{cx:"50",cy:"50",r:"20",fill:"none"},null)]),p={size:i.VQ,type:(0,i.Ts)("circular"),color:String,vertical:Boolean,textSize:i.VQ,textColor:String};var m=(0,n.pM)({name:u,props:p,setup(e,{slots:t}){const o=(0,n.EW)((()=>(0,r.X$)({color:e.color},(0,s.vE)(e.size)))),l=()=>{const l="spinner"===e.type?d:v;return(0,n.bF)("span",{class:c("spinner",e.type),style:o.value},[t.icon?t.icon():l])},a=()=>{var o;if(t.default)return(0,n.bF)("span",{class:c("text"),style:{fontSize:(0,s._V)(e.textSize),color:null!=(o=e.textColor)?o:e.color}},[t.default()])};return()=>{const{type:t,vertical:o}=e;return(0,n.bF)("div",{class:c([t,{vertical:o}]),"aria-live":"polite","aria-busy":!0},[l(),a()])}}});const b=(0,l.G)(m)},6431:function(e,t,o){o.d(t,{A:function(){return s}});var l=o(6768),n=o(144),a=(0,l.pM)({name:"VirtualList",__name:"VirtualList",props:{list:{type:Array,required:!0},minItemSize:{type:Number,required:!0},buffer:{type:Number,default:0},loading:{type:Boolean,default:!1},onMore:{type:Boolean,default:!1},keyField:{type:String,default:"id"}},emits:["scroll-bottom","current-item-index"],setup(e,{emit:t}){const o=t,a=e,i=(0,l.EW)((()=>a.list.length)),r=(0,n.KR)(-1),s=(e,t,l,n)=>{cancelAnimationFrame(r.value),r.value=requestAnimationFrame((()=>{t===i.value&&o("scroll-bottom"),o("current-item-index",n)}))};return(t,o)=>{const n=(0,l.g2)("DynamicScrollerItem"),a=(0,l.g2)("DynamicScroller");return(0,l.uX)(),(0,l.Wv)(a,{items:e.list,"min-item-size":e.minItemSize,class:"virtual-list",buffer:e.buffer,emitUpdate:"",keyField:e.keyField,onUpdate:s},(0,l.eX)({default:(0,l.k6)((({item:e,index:o,active:a})=>[(0,l.bF)(n,{item:e,active:a,"data-index":o},{default:(0,l.k6)((()=>[(0,l.RG)(t.$slots,"default",{item:e,active:a,index:o})])),_:2},1032,["item","active","data-index"])])),_:2},[e.loading||0!==e.list.length?void 0:{name:"empty",fn:(0,l.k6)((()=>[o[0]||(o[0]=(0,l.Lk)("div",{class:"virtual-list__empty"},"暂无数据",-1))])),key:"0"},e.loading&&!e.onMore?{name:"after",fn:(0,l.k6)((()=>[o[1]||(o[1]=(0,l.Lk)("div",{class:"virtual-list__loading"},"Loading ...",-1))])),key:"1"}:void 0]),1032,["items","min-item-size","buffer","keyField"])}}}),i=o(1241);const r=(0,i.A)(a,[["__scopeId","data-v-884d42d2"]]);var s=r},7265:function(){}}]);
//# sourceMappingURL=357.06f9bc44.js.map