"use strict";(self["webpackChunknovel_web"]=self["webpackChunknovel_web"]||[]).push([[153],{240:function(e,t,a){a.d(t,{B0:function(){return c},C7:function(){return v},Fk:function(){return r},Td:function(){return s},gJ:function(){return _},wo:function(){return d}});var l=a(6591),o=a(8442);function n(e,t){"scrollTop"in e?e.scrollTop=t:e.scrollTo(e.scrollX,t)}function s(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}function r(e){n(window,e),n(document.body,e)}const i=(0,o.un)();function c(){i&&r(s())}const u=e=>e.stopPropagation();function d(e,t){("boolean"!==typeof e.cancelable||e.cancelable)&&e.preventDefault(),t&&u(e)}const{width:p,height:v}=(0,l.lW)();function k(e){const t=window.getComputedStyle(e);return"none"!==t.transform||"none"!==t.perspective||["transform","perspective","filter"].some((e=>(t.willChange||"").includes(e)))}function _(e){let t=e.parentElement;while(t){if(t&&"HTML"!==t.tagName&&"BODY"!==t.tagName&&k(t))return t;t=t.parentElement}return null}},269:function(){},968:function(e,t,a){a.d(t,{a:function(){return n}});var l=a(144),o=a(6768);function n(e){const t=(0,l.KR)(!1);return(0,o.wB)(e,(e=>{e&&(t.value=e)}),{immediate:!0}),e=>()=>t.value?e():null}},989:function(e,t,a){a.d(t,{hJ:function(){return f}});var l=a(4726),o=a(6768),n=a(144),s=a(5130),r=a(5828),i=a(6370),c=a(240),u=a(8442),d=a(7905),p=a(6591),v=a(968);const[k,_]=(0,r.YX)("overlay"),b={show:Boolean,zIndex:i.VQ,duration:i.VQ,className:i.E9,lockScroll:i.Rd,lazyRender:i.Rd,customStyle:Object,teleport:[String,Object]};var m=(0,o.pM)({name:k,inheritAttrs:!1,props:b,setup(e,{attrs:t,slots:a}){const l=(0,n.KR)(),r=(0,v.a)((()=>e.show||!e.lazyRender)),i=t=>{e.lockScroll&&(0,c.wo)(t,!0)},k=r((()=>{var n;const r=(0,u.X$)((0,d.AO)(e.zIndex),e.customStyle);return(0,u.C8)(e.duration)&&(r.animationDuration=`${e.duration}s`),(0,o.bo)((0,o.bF)("div",(0,o.v6)({ref:l,style:r,class:[_(),e.className]},t),[null==(n=a.default)?void 0:n.call(a)]),[[s.aG,e.show]])}));return(0,p.ML)("touchmove",i,{target:l}),()=>{const t=(0,o.bF)(s.eB,{name:"van-fade",appear:!0},{default:k});return e.teleport?(0,o.bF)(o.Im,{to:e.teleport},{default:()=>[t]}):t}}});const f=(0,l.G)(m)},1153:function(e,t,a){a.r(t),a.d(t,{default:function(){return I}});var l=a(989),o=(a(6647),a(269),a(2094)),n=(a(5121),a(6746)),s=(a(4114),a(6768)),r=a(4232),i=a(144),c=a(3266),u=a(6275);const d={class:"book-detail"},p={class:"book-detail__header"},v={class:"book-detail__content"},k={class:"book-detail__primary"},_=["src"],b={class:"book-detail__info"},m={class:"book-detail__info-title"},f={class:"book-detail__info-author"},g={class:"book-detail__info-category"},h={class:"book-detail__secondary"},y={class:"book-detail__secondary-intro"},R={class:"book-detail__secondary-other"},L={class:"book-detail__secondary-latest"},C={class:"book-detail__secondary-update"},w={class:"book-detail__catalog-panel"},E={class:"loading-wrapper"};var F=(0,s.pM)({name:"bookDetail",__name:"BookDetail",setup(e){const t=(0,u.l)(),a=(0,u.r)(),F=(0,i.KR)(!1),X=(0,i.KR)({id:"",title:"",cover:"",intro:"",author:{id:"",name:""},classify:{id:"",name:""},updateDate:"",lastChapter:{id:"",title:"",isLock:!1},state:0,bookOrigin:""}),A=(0,i.KR)([]),I=(0,s.EW)((()=>({backgroundImage:`url(${X.value.cover})`}))),T=()=>{a.back()},V=async()=>{F.value=!0;try{const[e,a]=await Promise.all([(0,c.nc)({id:t.query.id}),(0,c.bm)({id:t.query.id})]);X.value=e,A.value=a}finally{F.value=!1}},K=e=>{a.push({name:"bookRead",query:{id:t.query.id,chapterId:e.id}})};return V(),(0,s.n)((()=>{t.query.id!==X.value.id&&V()})),(e,t)=>{const a=n.A,c=o.Rh,u=l.hJ;return(0,s.uX)(),(0,s.CE)("div",d,[(0,s.Lk)("div",p,[(0,s.Lk)("i",{class:"book-detail__header-back icon-back",onClick:T}),(0,s.Lk)("div",{class:"book-detail__header-bg",style:(0,r.Tr)((0,i.R1)(I))},null,4)]),(0,s.Lk)("div",{class:"book-detail__bg",style:(0,r.Tr)((0,i.R1)(I))},null,4),(0,s.Lk)("div",v,[(0,s.Lk)("div",k,[(0,s.Lk)("img",{class:"book-detail__cover",src:(0,i.R1)(X).cover},null,8,_),(0,s.Lk)("div",b,[(0,s.Lk)("h1",m,(0,r.v_)((0,i.R1)(X).title),1),(0,s.Lk)("p",f,"作者："+(0,r.v_)((0,i.R1)(X).author.name),1),(0,s.Lk)("p",g,"类型："+(0,r.v_)((0,i.R1)(X).classify.name),1)])]),(0,s.Lk)("div",h,[t[0]||(t[0]=(0,s.Lk)("h1",{class:"book-detail__secondary-title"},"简介",-1)),(0,s.Lk)("p",y,(0,r.v_)((0,i.R1)(X).intro),1),(0,s.Lk)("div",R,[(0,s.Lk)("span",L,"最新 "+(0,r.v_)((0,i.R1)(X).lastChapter.title),1),(0,s.Lk)("span",C,(0,r.v_)((0,i.R1)(X).updateDate),1)])]),(0,s.Lk)("div",w,[(0,s.bF)(a,{list:(0,i.R1)(A),onChange:K},null,8,["list"])])]),(0,s.bF)(u,{show:(0,i.R1)(F)},{default:(0,s.k6)((()=>[(0,s.Lk)("div",E,[(0,s.bF)(c,{size:"24px",vertical:""},{default:(0,s.k6)((()=>t[1]||(t[1]=[(0,s.eW)("加载中...")]))),_:1})])])),_:1},8,["show"])])}}}),X=a(1241);const A=(0,X.A)(F,[["__scopeId","data-v-68186eaa"]]);var I=A},6746:function(e,t,a){a.d(t,{A:function(){return K}});var l=a(4726),o=a(6768),n=a(5828),s=a(6370),r=a(6591);const[i,c]=(0,n.YX)("sidebar"),u=Symbol(i),d={modelValue:(0,s.TU)(0)};var p=(0,o.pM)({name:i,props:d,emits:["change","update:modelValue"],setup(e,{emit:t,slots:a}){const{linkChildren:l}=(0,r.Py)(u),n=()=>+e.modelValue,s=e=>{e!==n()&&(t("update:modelValue",e),t("change",e))};return l({getActive:n,setActive:s}),()=>{var e;return(0,o.bF)("div",{role:"tablist",class:c()},[null==(e=a.default)?void 0:e.call(a)])}}});const v=(0,l.G)(p);a(6647);var k=a(8442),_=a(4548),b=a(3408);const[m,f]=(0,n.YX)("sidebar-item"),g=(0,k.X$)({},_.aI,{dot:Boolean,title:String,badge:s.VQ,disabled:Boolean,badgeProps:Object});var h=(0,o.pM)({name:m,props:g,emits:["click"],setup(e,{emit:t,slots:a}){const l=(0,_.lq)(),{parent:n,index:s}=(0,r.cJ)(u);if(!n)return void 0;const i=()=>{e.disabled||(t("click",s.value),n.setActive(s.value),l())};return()=>{const{dot:t,badge:l,title:r,disabled:c}=e,u=s.value===n.getActive();return(0,o.bF)("div",{role:"tab",class:f({select:u,disabled:c}),tabindex:c?void 0:0,"aria-selected":u,onClick:i},[(0,o.bF)(b.Ex,(0,o.v6)({dot:t,class:f("text"),content:l},e.badgeProps),{default:()=>[a.title?a.title():r]})])}}});const y=(0,l.G)(h);a(7708);var R=a(5314),L=(a(7484),a(4114),a(8111),a(7588),a(144)),C=a(4232);const w={class:"catalog-panel"},E={class:"catalog-panel__header"},F={class:"catalog-panel__content"},X={class:"catalog-panel__list"},A=["onClick"];var I=(0,o.pM)({name:"catalog-panel",__name:"CatalogPanel",props:{list:{type:Array,required:!0},groupCount:{type:Number,default:50}},emits:["change"],setup(e,{emit:t}){const a=t,l=e,n=(0,L.KR)(!1),s=(0,L.KR)(0),r=(0,o.EW)((()=>{const e=[];let t=-1;return l.list.forEach(((a,o)=>{o%l.groupCount===0&&(t++,e.push({name:`${t*l.groupCount+1}-${t*l.groupCount+l.groupCount}`,chapters:[]})),e[t].chapters.push(a)})),n.value?e.reverse():e})),i=(0,o.EW)((()=>{const e=r.value[s.value]?.chapters||[];return n.value?e.slice().reverse():e})),c=e=>{a("change",e)};return(e,t)=>{const a=R.In,l=y,u=v;return(0,o.uX)(),(0,o.CE)("div",w,[(0,o.Lk)("div",E,[t[2]||(t[2]=(0,o.Lk)("div",{class:"catalog-panel__header-title"},"目录",-1)),(0,o.Lk)("div",{class:"catalog-panel__header-sort",onClick:t[0]||(t[0]=e=>n.value=!(0,L.R1)(n))},[(0,o.bF)(a,{name:"sort"}),(0,o.eW)(" "+(0,C.v_)((0,L.R1)(n)?"正序":"倒序"),1)])]),(0,o.Lk)("div",F,[(0,o.bF)(u,{class:"catalog-panel__sidebar",modelValue:(0,L.R1)(s),"onUpdate:modelValue":t[1]||(t[1]=e=>(0,L.i9)(s)?s.value=e:null)},{default:(0,o.k6)((()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)((0,L.R1)(r),((e,t)=>((0,o.uX)(),(0,o.Wv)(l,{key:t,title:e.name},null,8,["title"])))),128))])),_:1},8,["modelValue"]),(0,o.Lk)("div",X,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)((0,L.R1)(i),((e,t)=>((0,o.uX)(),(0,o.CE)("div",{key:t,class:"catalog-panel__list-item",onClick:t=>c(e)},(0,C.v_)(e.title),9,A)))),128))])])])}}}),T=a(1241);const V=(0,T.A)(I,[["__scopeId","data-v-52edf204"]]);var K=V}}]);
//# sourceMappingURL=153.26f52771.js.map