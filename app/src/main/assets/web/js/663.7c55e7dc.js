"use strict";(self["webpackChunknovel_web"]=self["webpackChunknovel_web"]||[]).push([[663],{269:function(){},818:function(e,t,a){a(6647),a(7708),a(7484)},968:function(e,t,a){a.d(t,{a:function(){return n}});var o=a(144),l=a(6768);function n(e){const t=(0,o.KR)(!1);return(0,l.wB)(e,(e=>{e&&(t.value=e)}),{immediate:!0}),e=>()=>t.value?e():null}},989:function(e,t,a){a.d(t,{hJ:function(){return m}});var o=a(4726),l=a(6768),n=a(144),r=a(5130),s=a(5828),i=a(6370),c=a(240),u=a(8442),d=a(7905),v=a(6591),k=a(968);const[p,b]=(0,s.YX)("overlay"),_={show:Boolean,zIndex:i.VQ,duration:i.VQ,className:i.E9,lockScroll:i.Rd,lazyRender:i.Rd,customStyle:Object,teleport:[String,Object]};var f=(0,l.pM)({name:p,inheritAttrs:!1,props:_,setup(e,{attrs:t,slots:a}){const o=(0,n.KR)(),s=(0,k.a)((()=>e.show||!e.lazyRender)),i=t=>{e.lockScroll&&(0,c.wo)(t,!0)},p=s((()=>{var n;const s=(0,u.X$)((0,d.AO)(e.zIndex),e.customStyle);return(0,u.C8)(e.duration)&&(s.animationDuration=`${e.duration}s`),(0,l.bo)((0,l.bF)("div",(0,l.v6)({ref:o,style:s,class:[b(),e.className]},t),[null==(n=a.default)?void 0:n.call(a)]),[[r.aG,e.show]])}));return(0,v.ML)("touchmove",i,{target:o}),()=>{const t=(0,l.bF)(r.eB,{name:"van-fade",appear:!0},{default:p});return e.teleport?(0,l.bF)(l.Im,{to:e.teleport},{default:()=>[t]}):t}}});const m=(0,o.G)(f)},2376:function(e,t,a){a.d(t,{bm:function(){return u},kq:function(){return i},nc:function(){return c},nw:function(){return d},ob:function(){return s},st:function(){return r}});var o=a(9799),l=a(7640);const n=(0,l.W)();function r(e){return(0,o.O)().books[n.currentPlatformKey].search(e)}function s(){return(0,o.O)().books[n.currentPlatformKey].getClassifyList()}function i(e){return(0,o.O)().books[n.currentPlatformKey].getList(e)}function c(e){return(0,o.O)().books[n.currentPlatformKey].getDetail(e)}function u(e){return(0,o.O)().books[n.currentPlatformKey].getChapterList(e)}function d(e){return(0,o.O)().books[n.currentPlatformKey].getBookContent(e)}},5121:function(e,t,a){a(6647),a(7265)},6034:function(e,t,a){a.d(t,{A:function(){return P}});var o=a(4726),l=a(6768),n=a(5828),r=a(6370),s=a(6591);const[i,c]=(0,n.YX)("sidebar"),u=Symbol(i),d={modelValue:(0,r.TU)(0)};var v=(0,l.pM)({name:i,props:d,emits:["change","update:modelValue"],setup(e,{emit:t,slots:a}){const{linkChildren:o}=(0,s.Py)(u),n=()=>+e.modelValue,r=e=>{e!==n()&&(t("update:modelValue",e),t("change",e))};return o({getActive:n,setActive:r}),()=>{var e;return(0,l.bF)("div",{role:"tablist",class:c()},[null==(e=a.default)?void 0:e.call(a)])}}});const k=(0,o.G)(v);a(6647);var p=a(8442),b=a(4548),_=a(3408);const[f,m]=(0,n.YX)("sidebar-item"),g=(0,p.X$)({},b.aI,{dot:Boolean,title:String,badge:r.VQ,disabled:Boolean,badgeProps:Object});var h=(0,l.pM)({name:f,props:g,emits:["click"],setup(e,{emit:t,slots:a}){const o=(0,b.lq)(),{parent:n,index:r}=(0,s.cJ)(u);if(!n)return void 0;const i=()=>{e.disabled||(t("click",r.value),n.setActive(r.value),o())};return()=>{const{dot:t,badge:o,title:s,disabled:c}=e,u=r.value===n.getActive();return(0,l.bF)("div",{role:"tab",class:m({select:u,disabled:c}),tabindex:c?void 0:0,"aria-selected":u,onClick:i},[(0,l.bF)(_.Ex,(0,l.v6)({dot:t,class:m("text"),content:o},e.badgeProps),{default:()=>[a.title?a.title():s]})])}}});const y=(0,o.G)(h);a(7708);var L=a(5314),R=(a(818),a(4114),a(8111),a(7588),a(144)),C=a(4232);const K={class:"catalog-panel"},w={class:"catalog-panel__header"},F={class:"catalog-panel__content"},A={class:"catalog-panel__list"},E=["onClick"];var I=(0,l.pM)({name:"catalog-panel",__name:"catalog-panel",props:{list:{type:Array,required:!0},groupCount:{type:Number,default:50}},emits:["change"],setup(e,{emit:t}){const a=t,o=e,n=(0,R.KR)(!1),r=(0,R.KR)(0),s=(0,l.EW)((()=>{const e=[];let t=-1;return o.list.forEach(((a,l)=>{l%o.groupCount===0&&(t++,e.push({name:`${t*o.groupCount+1}-${t*o.groupCount+o.groupCount}`,chapters:[]})),e[t].chapters.push(a)})),n.value?e.reverse():e})),i=(0,l.EW)((()=>{const e=s.value[r.value]?.chapters||[];return n.value?e.slice().reverse():e})),c=e=>{a("change",e)};return(e,t)=>{const a=L.In,o=y,u=k;return(0,l.uX)(),(0,l.CE)("div",K,[(0,l.Lk)("div",w,[t[2]||(t[2]=(0,l.Lk)("div",{class:"catalog-panel__header-title"},"目录",-1)),(0,l.Lk)("div",{class:"catalog-panel__header-sort",onClick:t[0]||(t[0]=e=>n.value=!(0,R.R1)(n))},[(0,l.bF)(a,{name:"sort"}),(0,l.eW)(" "+(0,C.v_)((0,R.R1)(n)?"正序":"倒序"),1)])]),(0,l.Lk)("div",F,[(0,l.bF)(u,{class:"catalog-panel__sidebar",modelValue:(0,R.R1)(r),"onUpdate:modelValue":t[1]||(t[1]=e=>(0,R.i9)(r)?r.value=e:null)},{default:(0,l.k6)((()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)((0,R.R1)(s),((e,t)=>((0,l.uX)(),(0,l.Wv)(o,{key:t,title:e.name},null,8,["title"])))),128))])),_:1},8,["modelValue"]),(0,l.Lk)("div",A,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)((0,R.R1)(i),((e,t)=>((0,l.uX)(),(0,l.CE)("div",{key:t,class:"catalog-panel__list-item",onClick:t=>c(e)},(0,C.v_)(e.title),9,E)))),128))])])])}}}),X=a(1241);const O=(0,X.A)(I,[["__scopeId","data-v-2c60254f"]]);var P=O},8663:function(e,t,a){a.r(t),a.d(t,{default:function(){return I}});var o=a(989),l=(a(6647),a(269),a(2094)),n=(a(5121),a(6034)),r=(a(4114),a(6768)),s=a(4232),i=a(144),c=a(2376),u=a(6275);const d={class:"book-detail"},v={class:"book-detail__header"},k={class:"book-detail__content"},p={class:"book-detail__primary"},b=["src"],_={class:"book-detail__info"},f={class:"book-detail__info-title"},m={class:"book-detail__info-author"},g={class:"book-detail__info-category"},h={class:"book-detail__secondary"},y={class:"book-detail__secondary-intro"},L={class:"book-detail__secondary-other"},R={class:"book-detail__secondary-latest"},C={class:"book-detail__secondary-update"},K={class:"book-detail__catalog-panel"},w={class:"loading-wrapper"};var F=(0,r.pM)({name:"book-detail",__name:"book-detail",setup(e){const t=(0,u.l)(),a=(0,u.r)(),F=(0,i.KR)(!1),A=(0,i.KR)({id:"",title:"",cover:"",intro:"",author:{id:"",name:""},classify:{id:"",name:""},updateDate:"",lastChapter:{id:"",title:"",isLock:!1},state:0,origin:{key:"",name:"",url:""}}),E=(0,i.KR)([]),I=(0,r.EW)((()=>({backgroundImage:`url(${A.value.cover})`}))),X=()=>{a.back()},O=async()=>{F.value=!0;try{const[e,a]=await Promise.all([(0,c.nc)({id:t.query.id}),(0,c.bm)({id:t.query.id})]);A.value=e,E.value=a}finally{F.value=!1}},P=e=>{a.push({name:"book-read",query:{id:t.query.id,chapterId:e.id}})};return O(),(0,r.n)((()=>{t.query.id!==A.value.id&&O()})),(e,t)=>{const a=n.A,c=l.Rh,u=o.hJ;return(0,r.uX)(),(0,r.CE)("div",d,[(0,r.Lk)("div",v,[(0,r.Lk)("i",{class:"book-detail__header-back icon-back",onClick:X}),(0,r.Lk)("div",{class:"book-detail__header-bg",style:(0,s.Tr)((0,i.R1)(I))},null,4)]),(0,r.Lk)("div",{class:"book-detail__bg",style:(0,s.Tr)((0,i.R1)(I))},null,4),(0,r.Lk)("div",k,[(0,r.Lk)("div",p,[(0,r.Lk)("img",{class:"book-detail__cover",src:(0,i.R1)(A).cover},null,8,b),(0,r.Lk)("div",_,[(0,r.Lk)("h1",f,(0,s.v_)((0,i.R1)(A).title),1),(0,r.Lk)("p",m,"作者："+(0,s.v_)((0,i.R1)(A).author.name),1),(0,r.Lk)("p",g,"类型："+(0,s.v_)((0,i.R1)(A).classify.name),1)])]),(0,r.Lk)("div",h,[t[0]||(t[0]=(0,r.Lk)("h1",{class:"book-detail__secondary-title"},"简介",-1)),(0,r.Lk)("p",y,(0,s.v_)((0,i.R1)(A).intro),1),(0,r.Lk)("div",L,[(0,r.Lk)("span",R,"最新 "+(0,s.v_)((0,i.R1)(A).lastChapter.title),1),(0,r.Lk)("span",C,(0,s.v_)((0,i.R1)(A).updateDate),1)])]),(0,r.Lk)("div",K,[(0,r.bF)(a,{list:(0,i.R1)(E),onChange:P},null,8,["list"])])]),(0,r.bF)(u,{show:(0,i.R1)(F)},{default:(0,r.k6)((()=>[(0,r.Lk)("div",w,[(0,r.bF)(c,{size:"24px",vertical:""},{default:(0,r.k6)((()=>t[1]||(t[1]=[(0,r.eW)("加载中...")]))),_:1})])])),_:1},8,["show"])])}}}),A=a(1241);const E=(0,A.A)(F,[["__scopeId","data-v-19d40fa5"]]);var I=E}}]);
//# sourceMappingURL=663.7c55e7dc.js.map