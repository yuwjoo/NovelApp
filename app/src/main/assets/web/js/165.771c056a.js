"use strict";(self["webpackChunknovel_web"]=self["webpackChunknovel_web"]||[]).push([[165],{240:function(e,t,a){a.d(t,{B0:function(){return i},C7:function(){return v},gJ:function(){return _},wo:function(){return d}});var l=a(6591),o=a(8442);function n(e,t){"scrollTop"in e?e.scrollTop=t:e.scrollTo(e.scrollX,t)}function s(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}function r(e){n(window,e),n(document.body,e)}const c=(0,o.un)();function i(){c&&r(s())}const u=e=>e.stopPropagation();function d(e,t){("boolean"!==typeof e.cancelable||e.cancelable)&&e.preventDefault(),t&&u(e)}const{width:p,height:v}=(0,l.lW)();function b(e){const t=window.getComputedStyle(e);return"none"!==t.transform||"none"!==t.perspective||["transform","perspective","filter"].some((e=>(t.willChange||"").includes(e)))}function _(e){let t=e.parentElement;while(t){if(t&&"HTML"!==t.tagName&&"BODY"!==t.tagName&&b(t))return t;t=t.parentElement}return null}},269:function(){},968:function(e,t,a){a.d(t,{a:function(){return n}});var l=a(144),o=a(6768);function n(e){const t=(0,l.KR)(!1);return(0,o.wB)(e,(e=>{e&&(t.value=e)}),{immediate:!0}),e=>()=>t.value?e():null}},989:function(e,t,a){a.d(t,{hJ:function(){return m}});var l=a(4726),o=a(6768),n=a(144),s=a(5130),r=a(5828),c=a(6370),i=a(240),u=a(8442),d=a(7905),p=a(6591),v=a(968);const[b,_]=(0,r.YX)("overlay"),k={show:Boolean,zIndex:c.VQ,duration:c.VQ,className:c.E9,lockScroll:c.Rd,lazyRender:c.Rd,customStyle:Object,teleport:[String,Object]};var f=(0,o.pM)({name:b,inheritAttrs:!1,props:k,setup(e,{attrs:t,slots:a}){const l=(0,n.KR)(),r=(0,v.a)((()=>e.show||!e.lazyRender)),c=t=>{e.lockScroll&&(0,i.wo)(t,!0)},b=r((()=>{var n;const r=(0,u.X$)((0,d.AO)(e.zIndex),e.customStyle);return(0,u.C8)(e.duration)&&(r.animationDuration=`${e.duration}s`),(0,o.bo)((0,o.bF)("div",(0,o.v6)({ref:l,style:r,class:[_(),e.className]},t),[null==(n=a.default)?void 0:n.call(a)]),[[s.aG,e.show]])}));return(0,p.ML)("touchmove",c,{target:l}),()=>{const t=(0,o.bF)(s.eB,{name:"van-fade",appear:!0},{default:b});return e.teleport?(0,o.bF)(o.Im,{to:e.teleport},{default:()=>[t]}):t}}});const m=(0,l.G)(f)},2094:function(e,t,a){a.d(t,{Rh:function(){return _}});var l=a(4726),o=(a(8111),a(1701),a(6768)),n=a(5828),s=a(6370),r=a(8442),c=a(7905);const[i,u]=(0,n.YX)("loading"),d=Array(12).fill(null).map(((e,t)=>(0,o.bF)("i",{class:u("line",String(t+1))},null))),p=(0,o.bF)("svg",{class:u("circular"),viewBox:"25 25 50 50"},[(0,o.bF)("circle",{cx:"50",cy:"50",r:"20",fill:"none"},null)]),v={size:s.VQ,type:(0,s.Ts)("circular"),color:String,vertical:Boolean,textSize:s.VQ,textColor:String};var b=(0,o.pM)({name:i,props:v,setup(e,{slots:t}){const a=(0,o.EW)((()=>(0,r.X$)({color:e.color},(0,c.vE)(e.size)))),l=()=>{const l="spinner"===e.type?d:p;return(0,o.bF)("span",{class:u("spinner",e.type),style:a.value},[t.icon?t.icon():l])},n=()=>{var a;if(t.default)return(0,o.bF)("span",{class:u("text"),style:{fontSize:(0,c._V)(e.textSize),color:null!=(a=e.textColor)?a:e.color}},[t.default()])};return()=>{const{type:t,vertical:a}=e;return(0,o.bF)("div",{class:u([t,{vertical:a}]),"aria-live":"polite","aria-busy":!0},[l(),n()])}}});const _=(0,l.G)(b)},2699:function(e,t,a){a.d(t,{A:function(){return I}});var l=a(4726),o=a(6768),n=a(5828),s=a(6370),r=a(6591);const[c,i]=(0,n.YX)("sidebar"),u=Symbol(c),d={modelValue:(0,s.TU)(0)};var p=(0,o.pM)({name:c,props:d,emits:["change","update:modelValue"],setup(e,{emit:t,slots:a}){const{linkChildren:l}=(0,r.Py)(u),n=()=>+e.modelValue,s=e=>{e!==n()&&(t("update:modelValue",e),t("change",e))};return l({getActive:n,setActive:s}),()=>{var e;return(0,o.bF)("div",{role:"tablist",class:i()},[null==(e=a.default)?void 0:e.call(a)])}}});const v=(0,l.G)(p);a(6647);var b=a(8442),_=a(4548),k=a(3408);const[f,m]=(0,n.YX)("sidebar-item"),g=(0,b.X$)({},_.aI,{dot:Boolean,title:String,badge:s.VQ,disabled:Boolean,badgeProps:Object});var h=(0,o.pM)({name:f,props:g,emits:["click"],setup(e,{emit:t,slots:a}){const l=(0,_.lq)(),{parent:n,index:s}=(0,r.cJ)(u);if(!n)return void 0;const c=()=>{e.disabled||(t("click",s.value),n.setActive(s.value),l())};return()=>{const{dot:t,badge:l,title:r,disabled:i}=e,u=s.value===n.getActive();return(0,o.bF)("div",{role:"tab",class:m({select:u,disabled:i}),tabindex:i?void 0:0,"aria-selected":u,onClick:c},[(0,o.bF)(k.Ex,(0,o.v6)({dot:t,class:m("text"),content:l},e.badgeProps),{default:()=>[a.title?a.title():r]})])}}});const y=(0,l.G)(h);a(7708);var R=a(5632),C=(a(7484),a(4114),a(8111),a(7588),a(144)),L=a(4232);const w={class:"catalog-panel"},F={class:"catalog-panel__header"},E={class:"catalog-panel__content"},x={class:"catalog-panel__list"},S=["onClick"];var X=(0,o.pM)({name:"CatalogPanel",__name:"CatalogPanel",props:{list:{type:Array,required:!0},groupCount:{type:Number,default:50}},emits:["change"],setup(e,{emit:t}){const a=t,l=e,n=(0,C.KR)(!1),s=(0,C.KR)(0),r=(0,o.EW)((()=>{const e=[];let t=-1;return l.list.forEach(((a,o)=>{o%l.groupCount===0&&(t++,e.push({name:`${t*l.groupCount+1}-${t*l.groupCount+l.groupCount}`,chapters:[]})),e[t].chapters.push(a)})),n.value?e.reverse():e})),c=(0,o.EW)((()=>{const e=r.value[s.value]?.chapters||[];return n.value?e.slice().reverse():e})),i=e=>{a("change",e)};return(e,t)=>{const a=R.In,l=y,u=v;return(0,o.uX)(),(0,o.CE)("div",w,[(0,o.Lk)("div",F,[t[2]||(t[2]=(0,o.Lk)("div",{class:"catalog-panel__header-title"},"目录",-1)),(0,o.Lk)("div",{class:"catalog-panel__header-sort",onClick:t[0]||(t[0]=e=>n.value=!(0,C.R1)(n))},[(0,o.bF)(a,{name:"sort"}),(0,o.eW)(" "+(0,L.v_)((0,C.R1)(n)?"正序":"倒序"),1)])]),(0,o.Lk)("div",E,[(0,o.bF)(u,{class:"catalog-panel__sidebar",modelValue:(0,C.R1)(s),"onUpdate:modelValue":t[1]||(t[1]=e=>(0,C.i9)(s)?s.value=e:null)},{default:(0,o.k6)((()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)((0,C.R1)(r),((e,t)=>((0,o.uX)(),(0,o.Wv)(l,{key:t,title:e.name},null,8,["title"])))),128))])),_:1},8,["modelValue"]),(0,o.Lk)("div",x,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)((0,C.R1)(c),((e,t)=>((0,o.uX)(),(0,o.CE)("div",{key:t,class:"catalog-panel__list-item",onClick:t=>i(e)},(0,L.v_)(e.title),9,S)))),128))])])])}}}),V=a(1241);const A=(0,V.A)(X,[["__scopeId","data-v-0fe9ac59"]]);var I=A},7265:function(){},9165:function(e,t,a){a.r(t),a.d(t,{default:function(){return X}});var l=a(989),o=(a(6647),a(269),a(2094)),n=(a(7265),a(2699)),s=(a(4114),a(6768)),r=a(4232),c=a(144),i=a(3625),u=a(6275);const d={class:"book-detail"},p={class:"book-detail__header"},v={class:"book-detail__content"},b={class:"book-detail__primary"},_=["src"],k={class:"book-detail__info"},f={class:"book-detail__info-title"},m={class:"book-detail__info-author"},g={class:"book-detail__info-category"},h={class:"book-detail__secondary"},y={class:"book-detail__secondary-intro"},R={class:"book-detail__secondary-other"},C={class:"book-detail__secondary-latest"},L={class:"book-detail__secondary-update"},w={class:"book-detail__catalog-panel"},F={class:"loading-wrapper"};var E=(0,s.pM)({name:"bookDetail",__name:"index",setup(e){const t=(0,u.l)(),a=(0,u.r)(),E=(0,c.KR)(!1),x=(0,c.KR)({}),S=(0,c.KR)([]),X=(0,s.EW)((()=>({backgroundImage:`url(${x.value.cover})`}))),V=()=>{a.back()},A=async()=>{E.value=!0;try{const[e,a]=await Promise.all([(0,i.nc)({id:t.query.id}),(0,i.i4)({id:t.query.id})]);x.value=e,S.value=a}finally{E.value=!1}},I=e=>{a.push({name:"bookRead",query:{id:t.query.id,chapterId:e.id}})};return A(),(0,s.n)((()=>{t.query.id!==x.value.id&&A()})),(e,t)=>{const a=n.A,i=o.Rh,u=l.hJ;return(0,s.uX)(),(0,s.CE)("div",d,[(0,s.Lk)("div",p,[(0,s.Lk)("i",{class:"book-detail__header-back icon-back",onClick:V}),(0,s.Lk)("div",{class:"book-detail__header-bg",style:(0,r.Tr)((0,c.R1)(X))},null,4)]),(0,s.Lk)("div",{class:"book-detail__bg",style:(0,r.Tr)((0,c.R1)(X))},null,4),(0,s.Lk)("div",v,[(0,s.Lk)("div",b,[(0,s.Lk)("img",{class:"book-detail__cover",src:(0,c.R1)(x).cover},null,8,_),(0,s.Lk)("div",k,[(0,s.Lk)("h1",f,(0,r.v_)((0,c.R1)(x).title),1),(0,s.Lk)("p",m,"作者："+(0,r.v_)((0,c.R1)(x).author),1),(0,s.Lk)("p",g,"类别："+(0,r.v_)(((0,c.R1)(x).categorys||[]).join(" | ")),1)])]),(0,s.Lk)("div",h,[t[0]||(t[0]=(0,s.Lk)("h1",{class:"book-detail__secondary-title"},"简介",-1)),(0,s.Lk)("p",y,(0,r.v_)((0,c.R1)(x).intro),1),(0,s.Lk)("div",R,[(0,s.Lk)("span",C,"最新 "+(0,r.v_)((0,c.R1)(x).lastChapter),1),(0,s.Lk)("span",L,(0,r.v_)((0,c.R1)(x).updateData),1)])]),(0,s.Lk)("div",w,[(0,s.bF)(a,{list:(0,c.R1)(S),onChange:I},null,8,["list"])])]),(0,s.bF)(u,{show:(0,c.R1)(E)},{default:(0,s.k6)((()=>[(0,s.Lk)("div",F,[(0,s.bF)(i,{size:"24px",vertical:""},{default:(0,s.k6)((()=>t[1]||(t[1]=[(0,s.eW)("加载中...")]))),_:1})])])),_:1},8,["show"])])}}}),x=a(1241);const S=(0,x.A)(E,[["__scopeId","data-v-c75bcbde"]]);var X=S}}]);
//# sourceMappingURL=165.771c056a.js.map