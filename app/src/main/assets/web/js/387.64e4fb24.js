"use strict";(self["webpackChunknovel_web"]=self["webpackChunknovel_web"]||[]).push([[387],{240:function(e,o,t){t.d(o,{B0:function(){return u},C7:function(){return p},Fk:function(){return i},Td:function(){return r},gJ:function(){return m},wo:function(){return d}});var n=t(6591),l=t(8442);function a(e,o){"scrollTop"in e?e.scrollTop=o:e.scrollTo(e.scrollX,o)}function r(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}function i(e){a(window,e),a(document.body,e)}const s=(0,l.un)();function u(){s&&i(r())}const c=e=>e.stopPropagation();function d(e,o){("boolean"!==typeof e.cancelable||e.cancelable)&&e.preventDefault(),o&&c(e)}const{width:v,height:p}=(0,n.lW)();function b(e){const o=window.getComputedStyle(e);return"none"!==o.transform||"none"!==o.perspective||["transform","perspective","filter"].some((e=>(o.willChange||"").includes(e)))}function m(e){let o=e.parentElement;while(o){if(o&&"HTML"!==o.tagName&&"BODY"!==o.tagName&&b(o))return o;o=o.parentElement}return null}},269:function(){},272:function(e,o,t){t.r(o),t.d(o,{default:function(){return Ve}});var n=t(8273),l=t(4726),a=(t(8111),t(7588),t(1701),t(3579),t(6768)),r=t(144),i=t(5828),s=t(6370),u=t(8442),c=t(240),d=t(4612),v=t(9614),p=t(6145),b=t(6591);const[m,f]=(0,i.YX)("dropdown-menu"),h={overlay:s.Rd,zIndex:s.VQ,duration:(0,s.TU)(.2),direction:(0,s.Ts)("down"),activeColor:String,autoLocate:Boolean,closeOnClickOutside:s.Rd,closeOnClickOverlay:s.Rd,swipeThreshold:s.VQ},g=Symbol(m);var y=(0,a.pM)({name:m,props:h,setup(e,{slots:o}){const t=(0,v.B)(),n=(0,r.KR)(),l=(0,r.KR)(),i=(0,r.KR)(0),{children:s,linkChildren:m}=(0,b.Py)(g),h=(0,b.f$)(n),y=(0,a.EW)((()=>s.some((e=>e.state.showWrapper)))),w=(0,a.EW)((()=>e.swipeThreshold&&s.length>+e.swipeThreshold)),k=(0,a.EW)((()=>{if(y.value&&(0,u.C8)(e.zIndex))return{zIndex:+e.zIndex+1}})),C=()=>{s.forEach((e=>{e.toggle(!1)}))},x=()=>{e.closeOnClickOutside&&C()},R=()=>{if(l.value){const o=(0,b.yD)(l);"down"===e.direction?i.value=o.bottom:i.value=c.C7.value-o.top}},F=()=>{y.value&&R()},I=e=>{s.forEach(((o,t)=>{t===e?o.toggle():o.state.showPopup&&o.toggle(!1,{immediate:!0})}))},S=(o,n)=>{const{showPopup:l}=o.state,{disabled:r,titleClass:i}=o;return(0,a.bF)("div",{id:`${t}-${n}`,role:"button",tabindex:r?void 0:0,"data-allow-mismatch":"attribute",class:[f("item",{disabled:r,grow:w.value}),{[d.Dk]:!r}],onClick:()=>{r||I(n)}},[(0,a.bF)("span",{class:[f("title",{down:l===("down"===e.direction),active:l}),i],style:{color:l?e.activeColor:""}},[(0,a.bF)("div",{class:"van-ellipsis"},[o.renderTitle()])])])};return(0,p.c)({close:C}),m({id:t,props:e,offset:i,updateOffset:R}),(0,b.W3)(n,x),(0,b.ML)("scroll",F,{target:h,passive:!0}),()=>{var e;return(0,a.bF)("div",{ref:n,class:f()},[(0,a.bF)("div",{ref:l,style:k.value,class:f("bar",{opened:y.value,scrollable:w.value})},[s.map(S)]),null==(e=o.default)?void 0:e.call(o)])}}});const w=(0,l.G)(y);t(6647);var k=t(4548),C=t(5314),x=t(2094);const[R,F]=(0,i.YX)("button"),I=(0,u.X$)({},k.aI,{tag:(0,s.Ts)("button"),text:String,icon:String,type:(0,s.Ts)("default"),size:(0,s.Ts)("normal"),color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:(0,s.Ts)("button"),loadingSize:s.VQ,loadingText:String,loadingType:String,iconPosition:(0,s.Ts)("left")});var S=(0,a.pM)({name:R,props:I,emits:["click"],setup(e,{emit:o,slots:t}){const n=(0,k.lq)(),l=()=>t.loading?t.loading():(0,a.bF)(x.Rh,{size:e.loadingSize,type:e.loadingType,class:F("loading")},null),r=()=>e.loading?l():t.icon?(0,a.bF)("div",{class:F("icon")},[t.icon()]):e.icon?(0,a.bF)(C.In,{name:e.icon,class:F("icon"),classPrefix:e.iconPrefix},null):void 0,i=()=>{let o;if(o=e.loading?e.loadingText:t.default?t.default():e.text,o)return(0,a.bF)("span",{class:F("text")},[o])},s=()=>{const{color:o,plain:t}=e;if(o){const e={color:t?o:"white"};return t||(e.background=o),o.includes("gradient")?e.border=0:e.borderColor=o,e}},u=t=>{e.loading?(0,c.wo)(t):e.disabled||(o("click",t),n())};return()=>{const{tag:o,type:t,size:n,block:l,round:c,plain:v,square:p,loading:b,disabled:m,hairline:f,nativeType:h,iconPosition:g}=e,y=[F([t,n,{plain:v,block:l,round:c,square:p,loading:b,disabled:m,hairline:f}]),{[d.kw]:f}];return(0,a.bF)(o,{type:h,class:y,style:s(),disabled:m,onClick:u},{default:()=>[(0,a.bF)("div",{class:F("content")},["left"===g&&r(),i(),"right"===g&&r()])]})}}});const T=(0,l.G)(S);t(7708),t(7484),t(7265);var V=t(8139),z=(t(887),t(5130)),B=t(7905);function _(e,{args:o=[],done:t,canceled:n,error:l}){if(e){const a=e.apply(null,o);(0,u.yL)(a)?a.then((e=>{e?t():n&&n()})).catch(l||u.lQ):a?t():n&&n()}else t()}const[O,P]=(0,i.YX)("stepper"),E=200,L=(e,o)=>String(e)===String(o),K={min:(0,s.TU)(1),max:(0,s.TU)(1/0),name:(0,s.TU)(""),step:(0,s.TU)(1),theme:String,integer:Boolean,disabled:Boolean,showPlus:s.Rd,showMinus:s.Rd,showInput:s.Rd,longPress:s.Rd,autoFixed:s.Rd,allowEmpty:Boolean,modelValue:s.VQ,inputWidth:s.VQ,buttonSize:s.VQ,placeholder:String,disablePlus:Boolean,disableMinus:Boolean,disableInput:Boolean,beforeChange:Function,defaultValue:(0,s.TU)(1),decimalLength:s.VQ};var $=(0,a.pM)({name:O,props:K,emits:["plus","blur","minus","focus","change","overlimit","update:modelValue"],setup(e,{emit:o}){const t=(o,t=!0)=>{const{min:n,max:l,allowEmpty:a,decimalLength:r}=e;return a&&""===o||(o=(0,B.ZV)(String(o),!e.integer),o=""===o?0:+o,o=Number.isNaN(o)?+n:o,o=t?Math.max(Math.min(+l,o),+n):o,(0,u.C8)(r)&&(o=o.toFixed(+r))),o},n=()=>{var n;const l=null!=(n=e.modelValue)?n:e.defaultValue,a=t(l);return L(a,e.modelValue)||o("update:modelValue",a),a};let l;const i=(0,r.KR)(),s=(0,r.KR)(n()),v=(0,a.EW)((()=>e.disabled||e.disableMinus||+s.value<=+e.min)),p=(0,a.EW)((()=>e.disabled||e.disablePlus||+s.value>=+e.max)),m=(0,a.EW)((()=>({width:(0,B._V)(e.inputWidth),height:(0,B._V)(e.buttonSize)}))),f=(0,a.EW)((()=>(0,B.vE)(e.buttonSize))),h=()=>{const e=t(s.value);L(e,s.value)||(s.value=e)},g=o=>{e.beforeChange?_(e.beforeChange,{args:[o],done(){s.value=o}}):s.value=o},y=()=>{if("plus"===l&&p.value||"minus"===l&&v.value)return void o("overlimit",l);const n="minus"===l?-e.step:+e.step,a=t((0,B.LF)(+s.value,n));g(a),o(l)},w=o=>{const t=o.target,{value:n}=t,{decimalLength:l}=e;let a=(0,B.ZV)(String(n),!e.integer);if((0,u.C8)(l)&&a.includes(".")){const e=a.split(".");a=`${e[0]}.${e[1].slice(0,+l)}`}e.beforeChange?t.value=String(s.value):L(n,a)||(t.value=a);const r=a===String(+a);g(r?+a:a)},k=t=>{var n;e.disableInput?null==(n=i.value)||n.blur():o("focus",t)},C=n=>{const l=n.target,r=t(l.value,e.autoFixed);l.value=String(r),s.value=r,(0,a.dY)((()=>{o("blur",n),(0,c.B0)()}))};let x,R;const F=()=>{R=setTimeout((()=>{y(),F()}),E)},I=()=>{e.longPress&&(x=!1,clearTimeout(R),R=setTimeout((()=>{x=!0,y(),F()}),d.wT))},S=o=>{e.longPress&&(clearTimeout(R),x&&(0,c.wo)(o))},T=o=>{e.disableInput&&(0,c.wo)(o)},V=e=>({onClick:o=>{(0,c.wo)(o),l=e,y()},onTouchstartPassive:()=>{l=e,I()},onTouchend:S,onTouchcancel:S});return(0,a.wB)((()=>[e.max,e.min,e.integer,e.decimalLength]),h),(0,a.wB)((()=>e.modelValue),(e=>{L(e,s.value)||(s.value=t(e))})),(0,a.wB)(s,(t=>{o("update:modelValue",t),o("change",t,{name:e.name})})),(0,b.Gp)((()=>e.modelValue)),()=>(0,a.bF)("div",{role:"group",class:P([e.theme])},[(0,a.bo)((0,a.bF)("button",(0,a.v6)({type:"button",style:f.value,class:[P("minus",{disabled:v.value}),{[d.Dk]:!v.value}],"aria-disabled":v.value||void 0},V("minus")),null),[[z.aG,e.showMinus]]),(0,a.bo)((0,a.bF)("input",{ref:i,type:e.integer?"tel":"text",role:"spinbutton",class:P("input"),value:s.value,style:m.value,disabled:e.disabled,readonly:e.disableInput,inputmode:e.integer?"numeric":"decimal",placeholder:e.placeholder,autocomplete:"off","aria-valuemax":e.max,"aria-valuemin":e.min,"aria-valuenow":s.value,onBlur:C,onInput:w,onFocus:k,onMousedown:T},null),[[z.aG,e.showInput]]),(0,a.bo)((0,a.bF)("button",(0,a.v6)({type:"button",style:f.value,class:[P("plus",{disabled:p.value}),{[d.Dk]:!p.value}],"aria-disabled":p.value||void 0},V("plus")),null),[[z.aG,e.showPlus]])])}});const M=(0,l.G)($);t(116);const X={show:Boolean,zIndex:s.VQ,overlay:s.Rd,duration:s.VQ,teleport:[String,Object],lockScroll:s.Rd,lazyRender:s.Rd,beforeClose:Function,overlayStyle:Object,overlayClass:s.E9,transitionAppear:Boolean,closeOnClickOverlay:s.Rd};Object.keys(X);function Y(e,o){return e>o?"horizontal":o>e?"vertical":""}function A(){const e=(0,r.KR)(0),o=(0,r.KR)(0),t=(0,r.KR)(0),n=(0,r.KR)(0),l=(0,r.KR)(0),a=(0,r.KR)(0),i=(0,r.KR)(""),s=(0,r.KR)(!0),u=()=>"vertical"===i.value,c=()=>"horizontal"===i.value,v=()=>{t.value=0,n.value=0,l.value=0,a.value=0,i.value="",s.value=!0},p=t=>{v(),e.value=t.touches[0].clientX,o.value=t.touches[0].clientY},b=r=>{const u=r.touches[0];t.value=(u.clientX<0?0:u.clientX)-e.value,n.value=u.clientY-o.value,l.value=Math.abs(t.value),a.value=Math.abs(n.value);const c=10;(!i.value||l.value<c&&a.value<c)&&(i.value=Y(l.value,a.value)),s.value&&(l.value>d.Ez||a.value>d.Ez)&&(s.value=!1)};return{move:b,start:p,reset:v,startX:e,startY:o,deltaX:t,deltaY:n,offsetX:l,offsetY:a,direction:i,isVertical:u,isHorizontal:c,isTap:s}}let D=0;const W="van-overflow-hidden";function Q(e,o){const t=A(),n="01",l="10",r=o=>{t.move(o);const a=t.deltaY.value>0?l:n,r=(0,b.mH)(o.target,e.value),{scrollHeight:i,offsetHeight:s,scrollTop:u}=r;let d="11";0===u?d=s>=i?"00":"01":u+s>=i&&(d="10"),"11"===d||!t.isVertical()||parseInt(d,2)&parseInt(a,2)||(0,c.wo)(o,!0)},i=()=>{document.addEventListener("touchstart",t.start),document.addEventListener("touchmove",r,{passive:!1}),D||document.body.classList.add(W),D++},s=()=>{D&&(document.removeEventListener("touchstart",t.start),document.removeEventListener("touchmove",r),D--,D||document.body.classList.remove(W))},u=()=>o()&&i(),d=()=>o()&&s();(0,b.kz)(u),(0,a.Y4)(d),(0,a.xo)(d),(0,a.wB)(o,(e=>{e?i():s()}))}var G=t(968);const q=Symbol();var j=t(6438);const N=()=>{var e;const{scopeId:o}=(null==(e=(0,a.nI)())?void 0:e.vnode)||{};return o?{[o]:""}:null};var U=t(989);const H=(0,u.X$)({},X,{round:Boolean,position:(0,s.Ts)("center"),closeIcon:(0,s.Ts)("cross"),closeable:Boolean,transition:String,iconPrefix:String,closeOnPopstate:Boolean,closeIconPosition:(0,s.Ts)("top-right"),destroyOnClose:Boolean,safeAreaInsetTop:Boolean,safeAreaInsetBottom:Boolean}),[J,Z]=(0,i.YX)("popup");var ee=(0,a.pM)({name:J,inheritAttrs:!1,props:H,emits:["open","close","opened","closed","keydown","update:show","clickOverlay","clickCloseIcon"],setup(e,{emit:o,attrs:t,slots:n}){let l,i;const s=(0,r.KR)(),c=(0,r.KR)(),v=(0,G.a)((()=>e.show||!e.lazyRender)),m=(0,a.EW)((()=>{const o={zIndex:s.value};if((0,u.C8)(e.duration)){const t="center"===e.position?"animationDuration":"transitionDuration";o[t]=`${e.duration}s`}return o})),f=()=>{l||(l=!0,s.value=void 0!==e.zIndex?+e.zIndex:(0,j.v)(),o("open"))},h=()=>{l&&_(e.beforeClose,{done(){l=!1,o("close"),o("update:show",!1)}})},g=t=>{o("clickOverlay",t),e.closeOnClickOverlay&&h()},y=()=>{if(e.overlay)return(0,a.bF)(U.hJ,(0,a.v6)({show:e.show,class:e.overlayClass,zIndex:s.value,duration:e.duration,customStyle:e.overlayStyle,role:e.closeOnClickOverlay?"button":void 0,tabindex:e.closeOnClickOverlay?0:void 0},N(),{onClick:g}),{default:n["overlay-content"]})},w=e=>{o("clickCloseIcon",e),h()},k=()=>{if(e.closeable)return(0,a.bF)(C.In,{role:"button",tabindex:0,name:e.closeIcon,class:[Z("close-icon",e.closeIconPosition),d.Dk],classPrefix:e.iconPrefix,onClick:w},null)};let x;const R=()=>{x&&clearTimeout(x),x=setTimeout((()=>{o("opened")}))},F=()=>o("closed"),I=e=>o("keydown",e),S=v((()=>{var o;const{destroyOnClose:l,round:r,position:i,safeAreaInsetTop:s,safeAreaInsetBottom:u,show:d}=e;if(d||!l)return(0,a.bo)((0,a.bF)("div",(0,a.v6)({ref:c,style:m.value,role:"dialog",tabindex:0,class:[Z({round:r,[i]:i}),{"van-safe-area-top":s,"van-safe-area-bottom":u}],onKeydown:I},t,N()),[null==(o=n.default)?void 0:o.call(n),k()]),[[z.aG,d]])})),T=()=>{const{position:o,transition:t,transitionAppear:n}=e,l="center"===o?"van-fade":`van-popup-slide-${o}`;return(0,a.bF)(z.eB,{name:t||l,appear:n,onAfterEnter:R,onAfterLeave:F},{default:S})};return(0,a.wB)((()=>e.show),(e=>{e&&!l&&(f(),0===t.tabindex&&(0,a.dY)((()=>{var e;null==(e=c.value)||e.focus()}))),!e&&l&&(l=!1,o("close"))})),(0,p.c)({popupRef:c}),Q(c,(()=>e.show&&e.lockScroll)),(0,b.ML)("popstate",(()=>{e.closeOnPopstate&&(h(),i=!1)})),(0,a.sV)((()=>{e.show&&f()})),(0,a.n)((()=>{i&&(o("update:show",!0),i=!1)})),(0,a.Y4)((()=>{e.show&&e.teleport&&(h(),i=!0)})),(0,a.Gt)(q,(()=>e.show)),()=>e.teleport?(0,a.bF)(a.Im,{to:e.teleport},{default:()=>[y(),T()]}):(0,a.bF)(a.FK,null,[y(),T()])}});const oe=(0,l.G)(ee);const[te,ne]=(0,i.YX)("dropdown-item"),le={title:String,options:(0,s.zj)(),disabled:Boolean,teleport:[String,Object],lazyRender:s.Rd,modelValue:s.E9,titleClass:s.E9};var ae=(0,a.pM)({name:te,inheritAttrs:!1,props:le,emits:["open","opened","close","closed","change","update:modelValue"],setup(e,{emit:o,slots:t,attrs:n}){const l=(0,r.Kh)({showPopup:!1,transition:!0,showWrapper:!1}),i=(0,r.KR)(),{parent:s,index:u}=(0,b.cJ)(g);if(!s)return void 0;const d=e=>()=>o(e),v=d("open"),m=d("close"),f=d("opened"),h=()=>{l.showWrapper=!1,o("closed")},y=o=>{e.teleport&&o.stopPropagation()},w=(e=!l.showPopup,o={})=>{e!==l.showPopup&&(l.showPopup=e,l.transition=!o.immediate,e&&(s.updateOffset(),l.showWrapper=!0))},k=()=>{if(t.title)return t.title();if(e.title)return e.title;const o=e.options.find((o=>o.value===e.modelValue));return o?o.text:""},x=t=>{const{activeColor:n}=s.props,{disabled:r}=t,i=t.value===e.modelValue,u=()=>{r||(l.showPopup=!1,t.value!==e.modelValue&&(o("update:modelValue",t.value),o("change",t.value)))},c=()=>{if(i)return(0,a.bF)(C.In,{class:ne("icon"),color:r?void 0:n,name:"success"},null)};return(0,a.bF)(V.fh,{role:"menuitem",key:String(t.value),icon:t.icon,title:t.text,class:ne("option",{active:i,disabled:r}),style:{color:i?n:""},tabindex:i?0:-1,clickable:!r,onClick:u},{value:c})},R=()=>{const{offset:o}=s,{autoLocate:r,zIndex:d,overlay:p,duration:g,direction:w,closeOnClickOverlay:k}=s.props,C=(0,B.AO)(d);let R=o.value;if(r&&i.value){const e=(0,c.gJ)(i.value);e&&(R-=(0,b.yD)(e).top)}return"down"===w?C.top=`${R}px`:C.bottom=`${R}px`,(0,a.bo)((0,a.bF)("div",(0,a.v6)({ref:i,style:C,class:ne([w]),onClick:y},n),[(0,a.bF)(oe,{show:l.showPopup,"onUpdate:show":e=>l.showPopup=e,role:"menu",class:ne("content"),overlay:p,position:"down"===w?"top":"bottom",duration:l.transition?g:0,lazyRender:e.lazyRender,overlayStyle:{position:"absolute"},"aria-labelledby":`${s.id}-${u.value}`,"data-allow-mismatch":"attribute",closeOnClickOverlay:k,onOpen:v,onClose:m,onOpened:f,onClosed:h},{default:()=>{var o;return[e.options.map(x),null==(o=t.default)?void 0:o.call(t)]}})]),[[z.aG,l.showWrapper]])};return(0,p.c)({state:l,toggle:w,renderTitle:k}),()=>e.teleport?(0,a.bF)(a.Im,{to:e.teleport},{default:()=>[R()]}):R()}});const re=(0,l.G)(ae);t(269),t(4114);const[ie,se]=(0,i.YX)("image"),ue={src:String,alt:String,fit:String,position:String,round:Boolean,block:Boolean,width:s.VQ,height:s.VQ,radius:s.VQ,lazyLoad:Boolean,iconSize:s.VQ,showError:s.Rd,errorIcon:(0,s.Ts)("photo-fail"),iconPrefix:String,showLoading:s.Rd,loadingIcon:(0,s.Ts)("photo"),crossorigin:String,referrerpolicy:String};var ce=(0,a.pM)({name:ie,props:ue,emits:["load","error"],setup(e,{emit:o,slots:t}){const n=(0,r.KR)(!1),l=(0,r.KR)(!0),i=(0,r.KR)(),{$Lazyload:s}=(0,a.nI)().proxy,c=(0,a.EW)((()=>{const o={width:(0,B._V)(e.width),height:(0,B._V)(e.height)};return(0,u.C8)(e.radius)&&(o.overflow="hidden",o.borderRadius=(0,B._V)(e.radius)),o}));(0,a.wB)((()=>e.src),(()=>{n.value=!1,l.value=!0}));const d=e=>{l.value&&(l.value=!1,o("load",e))},v=()=>{const e=new Event("load");Object.defineProperty(e,"target",{value:i.value,enumerable:!0}),d(e)},p=e=>{n.value=!0,l.value=!1,o("error",e)},b=(o,t,n)=>n?n():(0,a.bF)(C.In,{name:o,size:e.iconSize,class:t,classPrefix:e.iconPrefix},null),m=()=>l.value&&e.showLoading?(0,a.bF)("div",{class:se("loading")},[b(e.loadingIcon,se("loading-icon"),t.loading)]):n.value&&e.showError?(0,a.bF)("div",{class:se("error")},[b(e.errorIcon,se("error-icon"),t.error)]):void 0,f=()=>{if(n.value||!e.src)return;const o={alt:e.alt,class:se("img"),style:{objectFit:e.fit,objectPosition:e.position},crossorigin:e.crossorigin,referrerpolicy:e.referrerpolicy};return e.lazyLoad?(0,a.bo)((0,a.bF)("img",(0,a.v6)({ref:i},o),null),[[(0,a.gN)("lazy"),e.src]]):(0,a.bF)("img",(0,a.v6)({ref:i,src:e.src,onLoad:d,onError:p},o),null)},h=({el:e})=>{const o=()=>{e===i.value&&l.value&&v()};i.value?o():(0,a.dY)(o)},g=({el:e})=>{e!==i.value||n.value||p()};return s&&u.M&&(s.$on("loaded",h),s.$on("error",g),(0,a.xo)((()=>{s.$off("loaded",h),s.$off("error",g)}))),(0,a.sV)((()=>{(0,a.dY)((()=>{var o;(null==(o=i.value)?void 0:o.complete)&&!e.lazyLoad&&v()}))})),()=>{var o;return(0,a.bF)("div",{class:se({round:e.round,block:e.block}),style:c.value},[f(),m(),null==(o=t.default)?void 0:o.call(t)])}}});const de=(0,l.G)(ce);var ve=t(4232),pe=t(6275);const be={class:"book-item__content"},me={class:"book-item__title"},fe={class:"book-item__intro"},he={class:"book-item__info"},ge={class:"book-item__author"},ye={class:"book-item__update-date"};var we=(0,a.pM)({name:"bookItem",__name:"BookItem",props:{index:{type:Number,required:!0},item:{type:Object,required:!0}},setup(e){const o=(0,pe.r)(),t=e=>{o.push({name:"bookDetail",query:{id:e.id}})};return(o,n)=>{const l=de;return(0,a.uX)(),(0,a.CE)("div",{class:"book-item",onClick:n[0]||(n[0]=o=>t(e.item))},[(0,a.bF)(l,{class:"book-item__img",src:e.item.cover,fit:"cover"},null,8,["src"]),(0,a.Lk)("div",be,[(0,a.Lk)("div",me,(0,ve.v_)(e.item.title),1),(0,a.Lk)("div",fe,(0,ve.v_)(e.item.intro),1),(0,a.Lk)("div",he,[(0,a.Lk)("div",ge,"作者："+(0,ve.v_)(e.item.author.name),1),(0,a.Lk)("div",ye,"最近更新："+(0,ve.v_)(e.item.updateDate),1)])])])}}}),ke=t(1241);const Ce=(0,ke.A)(we,[["__scopeId","data-v-83dc63f0"]]);var xe=Ce,Re=t(3266);const Fe={class:"book-city"},Ie={class:"dropdown-menu__item-btn"};var Se=(0,a.pM)({name:"bookCity",__name:"BookCity",setup(e){const o=(0,r.KR)([]),t=(0,r.Kh)({current:1,size:0,total:0}),l=(0,r.KR)(!1),i=(0,r.Kh)({classifyId:"0",current:1}),s=(0,a.EW)((()=>t.total/t.size)),u=(0,r.KR)(1),c=(0,a.rk)("searchDropdownItemRef"),d=(0,r.KR)([{text:"全部",value:"0"}]),v=async()=>{const e=await(0,Re.ob)();d.value=e.map((e=>({text:e.name,value:e.id})))},p=async()=>{try{l.value=!0;const e=await(0,Re.kq)({current:t.current,classifyId:i.classifyId});t.current=e.current,t.total=e.total,t.size=e.size,o.value.push(...e.list.map(((e,o)=>({...e,page:{...t,index:o}}))))}finally{l.value=!1}},b=()=>{!l.value&&t.current+1<=s.value&&(t.current++,p())},m=e=>{e&&(u.value=e.page.current)},f=()=>{i.current=u.value},h=()=>{c.value.toggle(),o.value=[],t.current=i.current,p()},g=()=>{o.value=[],t.current=1,p()};return v(),p(),(e,v)=>{const p=re,y=M,k=V.fh,C=T,x=w,R=n.A;return(0,a.uX)(),(0,a.CE)("div",Fe,[(0,a.bF)(x,{class:"book-city__dropdown dropdown-menu"},{default:(0,a.k6)((()=>[(0,a.bF)(p,{modelValue:(0,r.R1)(i).classifyId,"onUpdate:modelValue":v[0]||(v[0]=e=>(0,r.R1)(i).classifyId=e),options:(0,r.R1)(d),onChange:g},null,8,["modelValue","options"]),(0,a.bF)(p,{title:`第${(0,r.R1)(u)}页`,ref_key:"searchDropdownItemRef",ref:c,onOpen:f},{default:(0,a.k6)((()=>[(0,a.bF)(k,{center:"",title:"当前页"},{"right-icon":(0,a.k6)((()=>[(0,a.bF)(y,{modelValue:(0,r.R1)(i).current,"onUpdate:modelValue":v[1]||(v[1]=e=>(0,r.R1)(i).current=e),theme:"round",integer:"",min:"1",max:(0,r.R1)(t).total,"button-size":"22"},null,8,["modelValue","max"])])),_:1}),(0,a.bF)(k,{center:"",title:"总页数",value:(0,r.R1)(s)},null,8,["value"]),(0,a.Lk)("div",Ie,[(0,a.bF)(C,{type:"primary",block:"",round:"",onClick:h},{default:(0,a.k6)((()=>v[2]||(v[2]=[(0,a.eW)("跳转")]))),_:1})])])),_:1},8,["title"])])),_:1}),(0,a.bF)(R,{class:"book-city__list",list:(0,r.R1)(o),"min-item-size":200,loading:(0,r.R1)(l),"key-field":"id",onScrollToBottom:b,onCurrentVisible:m},{default:(0,a.k6)((({item:e,index:o})=>[(0,a.bF)(xe,{item:e,index:o},null,8,["item","index"])])),_:1},8,["list","loading"])])}}});const Te=(0,ke.A)(Se,[["__scopeId","data-v-79b82d8b"]]);var Ve=Te},887:function(){},968:function(e,o,t){t.d(o,{a:function(){return a}});var n=t(144),l=t(6768);function a(e){const o=(0,n.KR)(!1);return(0,l.wB)(e,(e=>{e&&(o.value=e)}),{immediate:!0}),e=>()=>o.value?e():null}},989:function(e,o,t){t.d(o,{hJ:function(){return g}});var n=t(4726),l=t(6768),a=t(144),r=t(5130),i=t(5828),s=t(6370),u=t(240),c=t(8442),d=t(7905),v=t(6591),p=t(968);const[b,m]=(0,i.YX)("overlay"),f={show:Boolean,zIndex:s.VQ,duration:s.VQ,className:s.E9,lockScroll:s.Rd,lazyRender:s.Rd,customStyle:Object,teleport:[String,Object]};var h=(0,l.pM)({name:b,inheritAttrs:!1,props:f,setup(e,{attrs:o,slots:t}){const n=(0,a.KR)(),i=(0,p.a)((()=>e.show||!e.lazyRender)),s=o=>{e.lockScroll&&(0,u.wo)(o,!0)},b=i((()=>{var a;const i=(0,c.X$)((0,d.AO)(e.zIndex),e.customStyle);return(0,c.C8)(e.duration)&&(i.animationDuration=`${e.duration}s`),(0,l.bo)((0,l.bF)("div",(0,l.v6)({ref:n,style:i,class:[m(),e.className]},o),[null==(a=t.default)?void 0:a.call(t)]),[[r.aG,e.show]])}));return(0,v.ML)("touchmove",s,{target:n}),()=>{const o=(0,l.bF)(r.eB,{name:"van-fade",appear:!0},{default:b});return e.teleport?(0,l.bF)(l.Im,{to:e.teleport},{default:()=>[o]}):o}}});const g=(0,n.G)(h)},4612:function(e,o,t){t.d(o,{$i:function(){return r},Dk:function(){return a},Ez:function(){return s},kw:function(){return l},wT:function(){return i}});const n="van-hairline",l=`${n}--surround`,a="van-haptics-feedback",r=Symbol("van-form"),i=500,s=5},6145:function(e,o,t){t.d(o,{c:function(){return a}});var n=t(6768),l=t(8442);function a(e){const o=(0,n.nI)();o&&(0,l.X$)(o.proxy,e)}},6261:function(e,o,t){t.d(o,{Ay:function(){return p},yH:function(){return d}});var n=t(6768),l=t(5828),a=t(6370),r=t(8442),i=t(4548),s=t(5314);const[u,c]=(0,l.YX)("cell"),d={tag:(0,a.Ts)("div"),icon:String,size:String,title:a.VQ,value:a.VQ,label:a.VQ,center:Boolean,isLink:Boolean,border:a.Rd,iconPrefix:String,valueClass:a.E9,labelClass:a.E9,titleClass:a.E9,titleStyle:null,arrowDirection:String,required:{type:[Boolean,String],default:null},clickable:{type:Boolean,default:null}},v=(0,r.X$)({},d,i.aI);var p=(0,n.pM)({name:u,props:v,setup(e,{slots:o}){const t=(0,i.lq)(),l=()=>{const t=o.label||(0,r.C8)(e.label);if(t)return(0,n.bF)("div",{class:[c("label"),e.labelClass]},[o.label?o.label():e.label])},a=()=>{var t;if(o.title||(0,r.C8)(e.title)){const a=null==(t=o.title)?void 0:t.call(o);if(Array.isArray(a)&&0===a.length)return;return(0,n.bF)("div",{class:[c("title"),e.titleClass],style:e.titleStyle},[a||(0,n.bF)("span",null,[e.title]),l()])}},u=()=>{const t=o.value||o.default,l=t||(0,r.C8)(e.value);if(l)return(0,n.bF)("div",{class:[c("value"),e.valueClass]},[t?t():(0,n.bF)("span",null,[e.value])])},d=()=>o.icon?o.icon():e.icon?(0,n.bF)(s.In,{name:e.icon,class:c("left-icon"),classPrefix:e.iconPrefix},null):void 0,v=()=>{if(o["right-icon"])return o["right-icon"]();if(e.isLink){const o=e.arrowDirection&&"right"!==e.arrowDirection?`arrow-${e.arrowDirection}`:"arrow";return(0,n.bF)(s.In,{name:o,class:c("right-icon")},null)}};return()=>{var l;const{tag:r,size:i,center:s,border:p,isLink:b,required:m}=e,f=null!=(l=e.clickable)?l:b,h={center:s,required:!!m,clickable:f,borderless:!p};return i&&(h[i]=!!i),(0,n.bF)(r,{class:c(h),role:f?"button":void 0,tabindex:f?0:void 0,onClick:t},{default:()=>{var e;return[d(),a(),u(),v(),null==(e=o.extra)?void 0:e.call(o)]}})}}})},8139:function(e,o,t){t.d(o,{fh:function(){return a}});var n=t(4726),l=t(6261);const a=(0,n.G)(l.Ay)},9614:function(e,o,t){t.d(o,{B:function(){return a}});var n=t(6768);let l=0;function a(){const e=(0,n.nI)(),{name:o="unknown"}=(null==e?void 0:e.type)||{};return`${o}-${++l}`}}}]);
//# sourceMappingURL=387.64e4fb24.js.map